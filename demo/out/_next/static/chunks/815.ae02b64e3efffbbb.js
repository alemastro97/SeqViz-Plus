"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[815],{2815:function(t,e,n){n.r(e),n.d(e,{default:function(){return pe}});var a=n(4111),c=n(7568),r=n(1438),i=n(8029),s=n(9815),o=n(460),l=n(655),u=n(5893),g=n(7294),h=n(1651),d=n(3272),f=n(5712),p=n(5967),m=n(416),N=n(8543),C=n(8005),v=n(967),A=n(7257),x=n(345),G=n(5150),I=n(6156),T=n.n(I),q=n(2670),y=n(6042),b=n(9396),w=n(4924),S=n(9534),M=n(7915),R=g.createContext({circular:0,linear:0,setCentralIndex:function(t,e){}});R.displayName="CentralIndexContext";var L=R,Z=function(t){return t[t.length-1]},j=function(t,e){return(0,s.Z)(t).sort((function(t,e){return t.end-e.end})).sort((function(t,e){return t.start-e.start})).reduce((function(t,n){var a=t.findIndex((function(t){return n.end!==n.start&&(Z(t).end<=Z(t).start?Z(t).end+e<=n.start:n.end>n.start?Z(t).end<=n.start:Z(t).end<n.start&&n.end<(a=t,a[0]).start);var a}));return a>-1?t[a].push(n):t.push([n]),t}),[])},B=function(t,e,n){for(var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=new Array(n),r=0;r<n;r+=1)c[r]=[];for(var i=0;i<t.length;i+=1){var s=t[i],o=s.end,l=s.start;if(void 0!==t[i].fcut){var u=t[i],g=u.fcut,h=u.rcut;l=g>o||g<l?g:l,o=h>o||h<l?h:o}if(l<o)for(var d=Math.floor(l/e),f=Math.floor((o-1)/e);d<=f&&d<n;)c[d].push(t[i]),d+=1;else{for(var p=Math.floor(o/e);p>=0;)c[p].push(t[i]),p-=1;for(var m=Math.floor(l/e);m<n;)(a||c[m].every((function(e){return e.id!==t[i].id})))&&c[m].push(t[i]),m+=1}}return c},E=function(t,e){if(t===e)return!0;if("object"===typeof t&&null!==t&&"object"===typeof e&&null!==e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t){if(!Object.prototype.hasOwnProperty.call(e,n))return!1;if(!E(t[n],e[n]))return!1}return!0}return!1},z=n(828),k=["#9DEAED","#8FDE8C","#CFF283","#8CDEBD","#F0A3CE","#F7C672","#F07F7F","#FAA887","#F099F7","#C59CFF","#6B81FF","#85A6FF"],D={"#6B81FF":"#2E3B85","#85A6FF":"#4C66AD","#8CDEBD":"#4CA17F","#8FDE8C":"#5CA35A","#9DEAED":"#5EB5B8","#C59CFF":"#8A60C4","#CFF283":"#8DB041","#F07F7F":"#AD4040","#F099F7":"#AB63B0","#F0A3CE":"#BD6295","#F7C672":"#BD872B","#FAA887":"#B36446"},H=function(t,e){return(e||k)[t%(e||k).length]},F=function(t){return D[k[t%k.length]]},P={},W=function(t){if(P[t])return P[t];var e=function(t,e,n,a){var c,r,i,s,o,l,u,g=parseInt,h=Math.round,d="string"==typeof n;if("number"!==typeof t||t<-1||t>1||"string"!==typeof e||"r"!==e[0]&&"#"!==e[0]||n&&!d)return null;var f=function(t){var e=t.length,n={};if(e>9){var a;if(a=(0,z.Z)(t=t.split(","),4),c=a[0],r=a[1],i=a[2],d=a[3],(e=t.length)<3||e>4)return null;n.r=g("a"===c[3]?c.slice(5):c.slice(4)),n.g=g(r),n.b=g(i),n.a=d?parseFloat(d):-1}else{if(8===e||6===e||e<4)return null;e<6&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+(e>4?t[4]+t[4]:"")),t=g(t.slice(1),16),9===e||5===e?(n.r=t>>24&255,n.g=t>>16&255,n.b=t>>8&255,n.a=h((255&t)/.255)/1e3):(n.r=t>>16,n.g=t>>8&255,n.b=255&t,n.a=-1)}return n};return u=e.length>9,u=d?n.length>9||"c"===n&&!u:u,o=f(e),s=t<0,l=n&&"c"!==n?f(n):s?{a:-1,b:0,g:0,r:0}:{a:-1,b:255,g:255,r:255},s=1-(t=s?-1*t:t),o&&l?(a?(c=h(s*o.r+t*l.r),r=h(s*o.g+t*l.g),i=h(s*o.b+t*l.b)):(c=h(Math.pow(s*Math.pow(o.r,2)+t*Math.pow(l.r,2),.5)),r=h(Math.pow(s*Math.pow(o.g,2)+t*Math.pow(l.g,2),.5)),i=h(Math.pow(s*Math.pow(o.b,2)+t*Math.pow(l.b,2),.5))),d=o.a,l=l.a,d=(o=d>=0||l>=0)?d<0?l:l<0?d:d*s+l*t:0,u?"rgb"+(o?"a(":"(")+c+","+r+","+i+(o?","+h(1e3*d)/1e3:"")+")":"#"+(4294967296+16777216*c+65536*r+256*i+(o?h(255*d):0)).toString(16).slice(1,o?void 0:-2)):null}(-.5,t);return P[t]=e,e},O=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;return(0,r.Z)(this,n),(t=e.apply(this,arguments)).hoverAnnotation=function(t,e){if(document)for(var n=document.getElementsByClassName(t),a=0;a<n.length;a+=1)n[a].style.fillOpacity=e},t}return n.prototype.render=function(){var t=this,e=this.props,n=e.annotations,a=e.lineHeight,c=e.radius,r=e.rowsToSkip,i=c-(2*a+3)-a*r,s=i-a;return(0,u.jsx)(L.Consumer,{children:function(e){var c=e.circular;return(0,u.jsx)("g",{className:"la-vz-circular-annotations",children:n.reduce((function(e,n,r){return r&&(i-=a+3,s-=a+3),e.concat(n.map((function(e){return(0,u.jsx)(Y,{annotation:e,calcBorderColor:W,centralIndex:c,currBRadius:i,currTRadius:s,genArc:t.props.genArc,getRotation:t.props.getRotation,hoverAnnotation:t.hoverAnnotation,id:"la-vz-".concat(e.id,"-annotation-circular-row"),inlinedAnnotations:t.props.inlinedAnnotations,inputRef:t.props.inputRef,lineHeight:a,seqLength:t.props.seqLength},"la-vz-".concat(e.id,"-annotation-circular-row"))})))}),[])})}})},n}(g.PureComponent),Y=function(t){var e=t.annotation,n=t.calcBorderColor,a=t.centralIndex,c=t.currBRadius,r=t.currTRadius,i=t.genArc,s=t.getRotation,o=t.hoverAnnotation,l=t.inlinedAnnotations,g=t.inputRef,h=t.lineHeight,d=t.seqLength,f=e.end>=e.start?e.end-e.start:d-e.start+e.end;f=0===f?d-.1:f;var p=s(e.start);if(c<0||r<0)return null;var m=(f/2+e.start+d-a)%d,N=m>.25*d&&m<.75*d,C=i({arrowFWD:1===e.direction,arrowREV:-1===e.direction,innerRadius:c,largeArc:f>d/2,length:f,outerRadius:r,sweepFWD:!0}),v=i({arrowFWD:!1,arrowREV:!1,innerRadius:N?c:r,largeArc:f>d/2,length:f,outerRadius:N?c:r,sweepFWD:!0}),A="la-vz-".concat(e.id,"-circular");return(0,u.jsxs)("g",{id:"la-vz-".concat(e.id,"-annotation-circular"),transform:p,children:[(0,u.jsx)("path",{d:v,fill:"transparent",id:A,stroke:"transparent"}),(0,u.jsx)("path",{ref:g(e.id,{direction:e.direction,end:e.end,name:e.name,ref:e.id,start:e.start,type:"ANNOTATION",viewer:"CIRCULAR"}),className:"".concat(e.id," la-vz-annotation"),cursor:"pointer",d:C,fill:e.color,id:e.id,stroke:e.color?D[e.color]||n(e.color):"gray",onBlur:function(){},onFocus:function(){},onMouseOut:function(){return o(e.id,"0.7")},onMouseOver:function(){return o(e.id,"1.0")}}),l.includes(e.id)&&(0,u.jsx)("text",{dy:-.4*h,id:e.id,onBlur:function(){},onFocus:function(){},onMouseOut:function(){return o(e.id,"0.7")},onMouseOver:function(){return o(e.id,"1.0")},children:(0,u.jsx)("textPath",{className:"la-vz-annotation-label",cursor:"pointer",dominantBaseline:"middle",fontSize:12,id:e.id,startOffset:N?"25%":"75%",textAnchor:"middle",xlinkHref:"#".concat(A),children:e.name})})]})},K=function(t){var e=t.cutSites;if(!e.length)return null;e=e.filter((function(t){return t.end>t.start}));var n=function(e,n,a){var c=t.findCoor,r=c(e,n),i=c(e,a);return"M ".concat(i.x," ").concat(i.y," L ").concat(r.x," ").concat(r.y)};return(0,u.jsx)("g",{className:"la-vz-circular-cutsites",children:e.map((function(e){return(0,u.jsx)(V,(0,b.Z)((0,y.Z)({},t),{calculateLinePath:n,cutSite:e}),"circular-cut-site-".concat(e.id))}))})},V=function(t){var e=t.calculateLinePath,n=t.cutSite,a=t.genArc,c=t.getRotation,r=t.inputRef,i=t.lineHeight,s=t.radius,o=t.seqLength,l=n.id,g=n.start,h=n.end,d=n.fcut,f=n.rcut;g+d>h+f&&(h=g>h?h+o:h,d>f?f+=o:d+=o);var p=Math.abs(h-g),m=s,N=s+.5*i,C=s+i;return o<nt&&(N+=i+1.5,C+=2*i+1.5),(0,u.jsxs)("g",{id:"la-vz-circular-cutsite-".concat(l),transform:c(g),children:[(0,u.jsx)("path",{ref:r(l,{end:h,ref:l,start:g,type:"ENZYME",viewer:"CIRCULAR"}),className:"la-vz-cut-site",cursor:"pointer",d:a({innerRadius:m,largeArc:p>o/2,length:p,outerRadius:C,sweepFWD:!0}),style:n.enzyme.color?{fill:n.enzyme.color}:{}}),(0,u.jsx)("path",{className:"la-vz-cut-site",d:e(d-g,C,N)}),(0,u.jsx)("path",{className:"la-vz-cut-site",d:a({innerRadius:N,largeArc:Math.abs(d-f)>o/2,length:Math.abs(d-f),offset:Math.min(d,f)-g,outerRadius:N,sweepFWD:!0})}),(0,u.jsx)("path",{className:"la-vz-cut-site",d:e(f-g,N,m)})]},"la-vz-circular-cutsite-".concat(l))},Q=function(t){var e=t.genArc,n=t.getRotation,a=t.highlights,c=t.inputRef,r=t.lineHeight,i=t.radius,s=t.search,o=t.seqLength,l=!(o>nt)||s.length/o<=.02;return(0,u.jsxs)("g",{className:"la-vz-circular-search",children:[l&&s.map((function(t){return(0,u.jsx)(ct,{className:"la-vz-search",direction:t.direction||1,end:t.end,genArc:e,getRotation:n,inputRef:c,lineHeight:r,radius:i,seqLength:o,start:t.start},JSON.stringify(t))})),a.map((function(t){var a=t.color,s=t.end,l=t.start;return(0,u.jsx)(ct,{className:"la-vz-highlight",color:a,direction:1,end:s,genArc:e,getRotation:n,inputRef:c,lineHeight:r,radius:i,seqLength:o,start:l},"la-vz-highlight-".concat(l,"-").concat(s))}))]})},U=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;return(0,r.Z)(this,n),(t=e.apply(this,arguments)).state={indexInc:10,ticks:[]},t.renderBasepairs=function(){var e=t.props,n=e.compSeq,a=e.findCoor,c=e.getRotation,r=e.lineHeight,i=e.radius,s=e.seq,o=e.seqLength,l=t.state.indexInc,g=t.context.circular,h=s+s,d=n+n,f=g-5*l,p=g+5*l;g<o/2&&(f+=o,p+=o);for(var m=[],N=f;N<=p;N+=1)m.push((0,u.jsx)("text",(0,b.Z)((0,y.Z)({},a(0,i+2*r)),{dominantBaseline:"middle",transform:c(N),children:h.charAt(N)}),"la-vz-base-".concat(N)),(0,u.jsx)("text",(0,b.Z)((0,y.Z)({},a(0,i+r)),{dominantBaseline:"middle",transform:c(N),children:d.charAt(N)}),"la-vz-base-comp-".concat(N)));return m},t}return n.prototype.render=function(){var t=this.props,e=t.center,n=t.findCoor,a=t.genArc,c=t.getRotation,r=t.lineHeight,i=t.name,s=t.radius,o=t.seq,l=t.seqLength,g=t.showIndex,h=t.size,d=t.totalRows,f=t.yDiff,p=this.state.ticks;if(!g)return null;for(var m=s-d*r,N=[],C=0;C<i.length;)N.push(i.substring(C,C+30).trim()),C+=30;var v=14+20*N.length,A=(N.length?N[0].length/2*12:0)>m?{x:e.x,y:h.height-v-f}:{x:e.x,y:e.y-(N.length-1)/2*25},x=n(0,s),G=n(0,s-7),I=a({innerRadius:s,largeArc:!0,length:l/2,outerRadius:s});return(0,u.jsxs)("g",{children:[(0,u.jsx)("text",{fontSize:20,fontWeight:500,textAnchor:"middle",children:N.map((function(t,e){return(0,u.jsx)("tspan",{x:A.x,y:A.y+25*e,children:t},t)}))}),(0,u.jsx)("text",(0,b.Z)((0,y.Z)({x:A.x,y:A.y+14+25*(N.length-1)},{fill:"gray",fontSize:12,textAnchor:"middle"}),{children:"".concat(l," bp")})),o.length<=nt&&(0,u.jsx)("g",{className:"la-vz-circular-bps",children:this.renderBasepairs()}),p.map((function(t){return(0,u.jsxs)("g",{transform:c(t-.5),children:[(0,u.jsx)("path",{className:"la-vz-index-tick",d:"M ".concat(x.x," ").concat(x.y," L ").concat(G.x," ").concat(G.y)}),(0,u.jsx)("text",{className:"la-vz-index-tick-label",fontSize:12,textAnchor:"middle",x:G.x,y:G.y+r,children:t})]},"la-vz-tick-".concat(t))})),(0,u.jsxs)("g",{children:[(0,u.jsx)("path",{className:"la-vz-index-line",d:I,transform:c(.75*l)}),(0,u.jsx)("path",{className:"la-vz-index-line",d:I,transform:c(.25*l)})]})]})},n}(g.PureComponent);U.contextType=L,U.getDerivedStateFromProps=function(t){var e=t.seqLength,n=0;U.context&&(n=U.context.circular);for(var a=Math.floor(e/6),c=Math.max(+a.toPrecision(2),10);c%10!==0;)c+=1;for(var r=[],i=0;i<=e-c/2;i+=c)r.push(0===i?1:i);var s=6*c;return{indexInc:c,ticks:r=r.filter((function(t){return Math.abs(n-t)<s||Math.abs(n+e-t)<s||Math.abs(n-e-t)<s}))}};var X=function(t){var e=t.group,n=t.lineHeight,a=t.setHoveredGroup,c=t.size,r=c.height,i=c.width,s=function(t){return t.reduce((function(t,e){return t+(e.name.length+1)*$t}),0)},o=function(t){return t[t.length-1]},l=e.labels.reduce((function(t,e){var n=e.name.length*$t;if(n>i){var a=Math.floor(.75*i/$t),c=new RegExp(".{1,".concat(a,"}"),"g"),r=e.name.match(c)||[];if(r.length)return r.forEach((function(n){t.push([(0,b.Z)((0,y.Z)({},e),{name:n.trim()})])})),t}if(o(t)&&s(o(t))+n<=200)return t[t.length-1].push(e),t;return t.push([e]),t}),[]),h=l.length*n,d=l.reduce((function(t,e,n){return Math.max(t,s(e)-(n===l.length-1?$t:0))}),0),f=(0,z.Z)([h,d].map((function(t){return t+2*$t})),2),p=f[0],m=f[1],N=e.forkCoor||e.textCoor,C=e.forkCoor?"M".concat(e.textCoor.x," ").concat(e.textCoor.y," L").concat(N.x," ").concat(N.y):"M".concat(e.lineCoor.x," ").concat(e.lineCoor.y," L").concat(N.x," ").concat(N.y),v=e.textCoor,A=v.x,x=v.y;A="end"===e.textAnchor?A-(e.labels[0].name.length+3)*$t:A,x-=$t,A=Math.max(A,2*$t),A=Math.min(A,i-2*$t-d),x=Math.max(x,2*$t);var G={x:A,y:x=Math.min(x,r-2*$t-h)},I={x:A-$t,y:x-$t-2},T="".concat(e.labels[0].id,"_overlay");return(0,u.jsxs)("g",{onMouseLeave:function(){return a("")},children:[(0,u.jsx)("path",{className:"la-vz-label-line",d:C}),(0,u.jsx)("rect",(0,y.Z)({fill:"white",height:p,stroke:"none",width:m},I)),(0,u.jsx)("text",(0,b.Z)((0,y.Z)({},G),{children:l.map((function(t,e){return(0,u.jsx)("tspan",{dominantBaseline:"middle",x:G.x,y:G.y+(e+.5)*n,children:t.map((function(a,c){return(0,u.jsxs)(g.Fragment,{children:[(0,u.jsx)("tspan",{className:"la-vz-circular-label",dominantBaseline:"middle",id:a.id,tabIndex:-1,y:G.y+(e+.5)*n,children:a.name}),c<t.length-1||e!==l.length-1?",":""]},a.id)}))},"".concat(T,"_").concat(e))}))})),(0,u.jsx)("rect",(0,y.Z)({fill:"none",height:p,stroke:"black",strokeWidth:1.5,width:m},I))]},T)},_=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(t){var a;return(0,r.Z)(this,n),(a=e.call(this,t)).setHoveredGroup=function(t){t!==a.state.hoveredGroup&&a.setState({hoveredGroup:t})},a.state={hoveredGroup:"",labelGroups:[]},a}return n.prototype.render=function(){var t=this,e=this.state,n=e.hoveredGroup,a=e.labelGroups,c=this.props,r=c.lineHeight,i=c.size,s=a.find((function(t){return t.labels[0].id===n}));return(0,u.jsxs)("g",{className:"la-vz-circular-labels",onMouseLeave:function(){return t.setHoveredGroup("")},children:[a.map((function(e){var a=(0,z.Z)(e.labels,1)[0],c=e.forkCoor||e.textCoor,r=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{className:"la-vz-label-line",d:"M".concat(e.lineCoor.x," ").concat(e.lineCoor.y," L").concat(c.x," ").concat(c.y)}),e.forkCoor&&(0,u.jsx)("path",{className:"la-vz-label-line",d:"M".concat(c.x," ").concat(c.y," L").concat(e.textCoor.x," ").concat(e.textCoor.y)})]});return e.grouped?a.id===n?null:(0,u.jsxs)("g",{id:"".concat(a.id,"-label"),children:[r,(0,u.jsx)("text",(0,b.Z)((0,y.Z)({className:"la-vz-circular-label",dominantBaseline:"middle",id:a.id,textAnchor:e.textAnchor,onMouseEnter:function(){return t.setHoveredGroup(a.id||"")}},e.textCoor),{children:e.name}))]},"".concat(a.id,"-listener")):(0,u.jsxs)("g",{children:[r,(0,u.jsx)("text",(0,b.Z)((0,y.Z)({className:"la-vz-circular-label",id:a.id},e.textCoor),{dominantBaseline:"middle",textAnchor:e.textAnchor,children:e.name}))]},a.id)})),s&&(0,u.jsx)(X,{group:s,lineHeight:r,setHoveredGroup:this.setHoveredGroup,size:i})]})},n}(g.Component);_.getDerivedStateFromProps=function(t,e){return{hoveredGroup:e.hoveredGroup,labelGroups:_.groupOverlappingLabels(t)}},_.groupOverlappingLabels=function(t){var e=t.center,n=t.findCoor,a=t.labels,c=t.lineHeight,r=t.radius,i=t.seqLength,o=t.size,l=t.yDiff,u=r+(i>nt?2*c:3.5*c),g=a.reduce((function(t,e){return t.concat(e)}),[]).map((function(t){var a;if("enzyme"===t.type)a=t.start;else if(t.end>t.start)a=(t.end+t.start)/2;else{a=(t.start-i+t.end)/2}var s=n(a,i>nt?r:u-c/2,!0),o=n(a,u,!0);return{label:t,lineCoor:s,textAnchor:o.x<=e.x?"end":"start",textCoor:o}})),h=function(t,e){var n=(t.name.length+4)*$t,a=!1,c=e.y+l;return(c<0||c>o.height||e.x-n<0||e.x+n>o.width)&&(a=!0),a},d=g.reduce((function(t,e){var n=t.findIndex((function(t){return t.textAnchor===e.textAnchor&&Math.abs(t.textCoor.y-e.textCoor.y)<15}));if(n>-1)return t[n].labels.push(e.label),t[n].grouped=!0,t;var a=h(e.label,e.textCoor);return t.concat({forkCoor:null,grouped:a,labels:[e.label],lineCoor:e.lineCoor,name:e.label.name,overflow:a,textAnchor:e.textAnchor,textCoor:e.textCoor})}),[]);return(d=(d=d.reduce((function(t,n,a){var c;if(!n.grouped||n.overflow||n.labels.length>4)return t.concat(n);var r=t[t.length-1],i=d[a+1];r&&r.textAnchor!==n.textAnchor&&(r=void 0),i&&i.textAnchor!==n.textAnchor&&(i=void 0);var o=n.labels.map((function(t,a){var c=a*(3*$t);"end"===n.textAnchor&&(c=-c);var r=-15*(n.labels.length-a);n.textCoor.y>e.y&&(r=15*(n.labels.length-a));var i={x:n.textCoor.x+c,y:n.textCoor.y+r},s=h(t,i);return(0,b.Z)((0,y.Z)({},n),{forkCoor:n.textCoor,grouped:s,labels:[t],overflow:s,textCoor:i})}));return o.some((function(t){return[r,i].some((function(e){return e&&Math.abs(e.textCoor.y-t.textCoor.y)<15}))}))?t.concat(n):(c=t).concat.apply(c,(0,s.Z)(o))}),[])).map((function(t){var e=t.labels[0].name,n=t.labels.length-1;return t.overflow?(0,b.Z)((0,y.Z)({},t),{name:"+".concat(n+1)}):t.grouped?(0,b.Z)((0,y.Z)({},t),{name:"".concat(e,",+").concat(n)}):(0,b.Z)((0,y.Z)({},t),{name:e})}))).map((function(t){var e=t.textCoor,n=e.x,a=e.y;return n=Math.max($t*(t.name.length+1),n),n=Math.min(o.width-(t.name.length+1)*$t,n),a=Math.max($t,a),a=Math.min(o.height-$t-12,a),(0,b.Z)((0,y.Z)({},t),{textCoor:{x:n,y:a}})}))};var J={clockwise:!0,end:0,length:0,name:"",ref:null,start:0,type:""},$=g.createContext(J);$.displayName="SelectionContext";var tt=$,et=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return n.prototype.render=function(){var t=this.props,e=t.findCoor,n=t.genArc,a=t.getRotation,c=t.lineHeight,r=t.radius,i=t.seq,s=t.seqLength,o=t.totalRows,l=this.context,g=l.clockwise,h=l.end,d=l.ref,f=l.start;if("undefined"!==typeof f&&"undefined"!==typeof h){var p=0;if(f===h&&"ALL"===d?p=s:f>h?p=!1!==g?Math.abs(h-f+s):-Math.abs(f-h):f<h&&(p=!1!==g?Math.abs(h-f):-Math.abs(f-h+s)),Math.abs(p)===s)p+=p>0?-.1:.1;var m=r+c;i.length<=nt&&(m+=2*c+3);var N=r-c*(o-1);(N<0||m<0)&&(N=0,m=r);var C=e(0,m),v=e(0,N),A="M ".concat(v.x," ").concat(v.y,"\n\t\t\tL ").concat(C.x," ").concat(C.y),x=!1!==g||"ALL"===d,G=!1;return(!1!==g&&p>s/2||!1===g&&Math.abs(p)>s/2)&&(G=!0),(0,u.jsxs)("g",{children:[p&&(0,u.jsx)("path",{className:"la-vz-selection",d:n({innerRadius:N,largeArc:G,length:p,outerRadius:m,sweepFWD:x}),shapeRendering:"auto",stroke:"none",transform:a(f)}),(0,u.jsx)("path",{className:"la-vz-selection-edge",d:A,shapeRendering:"geometricPrecision",strokeWidth:1,transform:a(f)}),p&&(0,u.jsx)("path",{className:"la-vz-selection-edge",d:A,shapeRendering:"geometricPrecision",strokeWidth:1,transform:a(h)})]})}},n}(g.PureComponent);et.contextType=tt;var nt=250,at=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(t){var a;return(0,r.Z)(this,n),(a=e.call(this,t)).shouldComponentUpdate=function(t){return!E(t,a.props)},a.getRotation=function(t){var e=a.props.center,n=a.state.seqLength,c=a.context.circular;return"rotate(".concat(360*((t-c)/n)||0,", ").concat(e.x,", ").concat(e.y,")")},a.findCoor=function(t,e,n){var c=a.props.center,r=a.state.seqLength,i=((n?t-a.context.circular:t)/r-.25)*Math.PI*2,s=Math.cos(i)*e,o=Math.sin(i)*e;return{x:c.x+s,y:c.y+o}},a.rotateCoor=function(t,e){var n=a.props.center,c=e*(Math.PI/180),r=Math.cos(c),i=Math.sin(c),s=t.x-n.x,o=t.y-n.y,l=r*s-i*o,u=i*s+r*o;return{x:n.x+l,y:n.y+u}},a.genArc=function(t){var e=t.arrowFWD,n=t.arrowREV,c=t.innerRadius,r=t.largeArc,i=t.length,s=t.outerRadius,o=t.sweepFWD,l=a.props.radius,u=a.state,g=u.lineHeight,h=u.seqLength,d=void 0===t.offset?0:t.offset,f=a.findCoor(d,c),p=a.findCoor(d,s),m=a.findCoor(i+d,c),N=a.findCoor(i+d,s),C="",v="";if(n||e){var A=g/4/l,x=360*Math.min(A/2,i/h);if(n){f=a.rotateCoor(f,x),p=a.rotateCoor(p,x);var G=a.findCoor(0,(c+s)/2);C="L ".concat(G.x," ").concat(G.y)}else{m=a.rotateCoor(m,-x),N=a.rotateCoor(N,-x);var I=a.findCoor(i,(c+s)/2);v="L ".concat(I.x," ").concat(I.y)}}var T=r?1:0,q=o?1:0,y=o?0:1;return"M ".concat(m.x," ").concat(m.y,"\n      A ").concat(c," ").concat(c,", 0, ").concat(T,", ").concat(y,", ").concat(f.x," ").concat(f.y,"\n      L ").concat(f.x," ").concat(f.y,"\n      ").concat(C,"\n      L ").concat(p.x," ").concat(p.y,"\n      A ").concat(s," ").concat(s,", 0, ").concat(T,", ").concat(q,", ").concat(N.x," ").concat(N.y,"\n      ").concat(v,"\n      Z")},a.handleScrollEvent=function(t){var e=a.props,n=e.rotateOnScroll,c=e.seq;if(n){var r=c.length*(t.deltaY/5e3);0===(r=Math.floor(r))&&(r=t.deltaY>0?1:-1);var i=a.context.circular+r;i=(i+c.length)%c.length,a.context.setCentralIndex("CIRCULAR",i)}},a.state={annotationsInRows:[],inlinedLabels:[],lineHeight:0,outerLabels:[],seqLength:0},a}return n.prototype.render=function(){var t=this.props,e=t.center,n=t.compSeq,a=t.cutSites,c=t.handleMouseEvent,r=t.inputRef,i=t.name,s=t.radius,o=t.search,l=t.seq,g=t.showIndex,h=t.size,d=t.yDiff,f=this.state,p=f.annotationsInRows,m=f.inlinedLabels,N=f.lineHeight,C=f.outerLabels,v=f.seqLength,A=this,x={center:e,findCoor:A.findCoor,genArc:A.genArc,getRotation:A.getRotation,inputRef:r,lineHeight:N,radius:s,rotateCoor:A.rotateCoor,seqLength:v},G=4+p.length,I="la-vz-".concat(i,"-viewer-circular");return h.height?(0,u.jsx)("svg",{ref:r(I,{type:"SEQ",viewer:"CIRCULAR"}),className:"la-vz-viewer-circular","data-testid":"la-vz-viewer-circular",height:h.height,id:I,width:h.width>=0?h.width:0,onMouseDown:c,onMouseMove:c,onMouseUp:c,onWheel:this.handleScrollEvent,children:(0,u.jsxs)("g",{className:"la-vz-circular-root",transform:"translate(0, ".concat(d,")"),children:[(0,u.jsx)(et,(0,b.Z)((0,y.Z)({},x),{seq:l,totalRows:G})),(0,u.jsx)(K,(0,b.Z)((0,y.Z)({},x),{cutSites:a,selectionRows:4})),(0,u.jsx)(U,(0,b.Z)((0,y.Z)({},x),{compSeq:n,name:i,seq:l,showIndex:g,size:h,totalRows:G,yDiff:d})),(0,u.jsx)(Q,{genArc:x.genArc,getRotation:x.getRotation,highlights:this.props.highlights,inputRef:x.inputRef,lineHeight:x.lineHeight,radius:x.radius,search:o,seqLength:x.seqLength}),(0,u.jsx)(O,(0,b.Z)((0,y.Z)({},x),{annotations:p,inlinedAnnotations:m,rowsToSkip:0})),(0,u.jsx)(_,(0,b.Z)((0,y.Z)({},x),{labels:C,size:h,yDiff:d}))]})}):null},n}(g.Component);at.contextType=L,at.getDerivedStateFromProps=function(t){var e=j(t.annotations,t.seq.length),n=t.seq.length,a=t.cutSites,c=t.radius-42,r=[],i=[];return e.forEach((function(t){var e=c*Math.PI;t.forEach((function(t){var a=(t.name.length+2)*$t,c=t.end-t.start;if(t.start>=t.end&&(c+=n),a<2*e*(c/n))r.push(t.id);else{var s=t.end,o=t.id,l=t.name,u=t.start;i.push({end:s,id:o,name:l,start:u,type:"annotation"})}})),c-=14})),a.forEach((function(t){return i.push((0,b.Z)((0,y.Z)({},t.enzyme,t),{start:t.fcut,type:"enzyme"}))})),i.sort((function(t,e){return Math.min(t.start,t.end)-Math.min(e.start,e.end)})),{annotationsInRows:e,inlinedLabels:r,lineHeight:14,outerLabels:i,seqLength:t.seq.length}};var ct=function(t){var e=t.className,n=t.color,a=t.direction,c=t.genArc,r=t.getRotation,i=t.inputRef,s=t.lineHeight,o=t.radius,l=t.seqLength,g=t.start,h=t.end;h<g&&(h+=l);var d=Math.abs(h-g),f=c({innerRadius:o-s/2,largeArc:d>l/2,length:d,outerRadius:o+s/2,sweepFWD:!0}),p="".concat(e,"-circular-").concat(g,"-").concat(h,"-").concat(a);return(0,u.jsx)("path",{ref:i(p,{end:h,ref:p,start:g,type:"FIND",viewer:"CIRCULAR"}),className:e,cursor:"pointer",d:f,fill:n,id:p,shapeRendering:"auto",stroke:"rgba(0, 0, 0, 0.5)",strokeWidth:1,transform:r(g)},p)};function rt(t,e){var n,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];var s=function(){n=null,a||t.apply(this,r)},o=a&&!n;clearTimeout(n),n=setTimeout(s,e),o&&t.apply(this,r)}}var it=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;(0,r.Z)(this,n),(t=e.apply(this,arguments)).clickedOnce=null,t.clickedTwice=null,t.handleKeyPress=function(e){var n=t.keypressMap(e);n&&t.handleSeqInteraction(n)},t.keypressMap=function(e){var n=t.props.copyEvent;if(n&&n(e))return"Copy";var a=e.key,c=e.shiftKey;switch(a){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return c?"Shift".concat(a):a;default:return null}};var i=(0,a.Z)(t);return t.handleSeqInteraction=function(){var t=(0,c.Z)((function(t){var e,n,a,c,r,s,o,u,g,h,d;return(0,l.__generator)(this,(function(l){switch(e=i.props.seq,n=e.length,a=i.props.bpsPerBlock||1,t){case"SelectAll":i.selectAllHotkey();break;case"Copy":i.handleCopy();break;case"ArrowUp":case"ArrowRight":case"ArrowDown":case"ArrowLeft":case"ShiftArrowUp":case"ShiftArrowRight":case"ShiftArrowDown":case"ShiftArrowLeft":if(c=i.props,r=c.selection,s=c.setSelection,o=r.end,"undefined"===typeof(u=r.start)||"undefined"===typeof o)return[2];g=r.clockwise,h=o,"ArrowUp"===t||"ShiftArrowUp"===t?h-=n/a>1?a:1:"ArrowRight"===t||"ShiftArrowRight"===t?h+=1:"ArrowDown"===t||"ShiftArrowDown"===t?h+=n/a>1?a:1:"ArrowLeft"!==t&&"ShiftArrowLeft"!==t||(h-=1),h<=-1&&(h=n+h),h>=n+1&&(h-=n),d=Math.abs(u-o),g=0===d?"ArrowRight"===t||"ShiftArrowRight"===t||"ArrowDown"===t||"ShiftArrowDown"===t:g,h===u||t.startsWith("Shift")?t.startsWith("Shift")&&s({clockwise:g,end:h,start:u,type:"SEQ"}):s({clockwise:!0,end:h,start:h,type:"SEQ"})}return[2]}))}));return function(e){return t.apply(this,arguments)}}(),t.handleCopy=function(){var e=t.props,n=e.selection,a=n.end,c=n.ref,r=n.start,i=e.seq;if(document){var s=document.activeElement,o=document.createElement("textarea");o.innerText="ALL"===c?i:i.substring(r||0,a),document.body&&document.body.appendChild(o),o.select(),document.execCommand("copy"),o.remove(),s&&s.focus()}},t.selectAllHotkey=function(){var e=t.props,n=e.selection,a=e.selection.start;(0,e.setSelection)((0,b.Z)((0,y.Z)({},n),{clockwise:!0,end:a,ref:"ALL",start:a}))},t.handleTripleClick=function(){t.selectAllHotkey()},t.resetClicked=rt((function(){t.clickedOnce=null,t.clickedTwice=null}),250),t.handleMouseEvent=function(e){var n=t.props.handleMouseEvent;"mouseup"===e.type&&(t.resetClicked(),t.clickedOnce===e.target&&t.clickedTwice===e.target?(t.handleTripleClick(),t.resetClicked()):t.clickedOnce===e.target&&null===t.clickedTwice?(t.clickedOnce=e.target,t.clickedTwice=e.target,t.resetClicked()):(t.clickedOnce=e.target,t.resetClicked()));var a=e.button,c=e.ctrlKey,r="mousedown"===e.type&&0===a&&c;0!==e.button||r||n(e)},t.render=function(){return(0,u.jsx)("div",{className:"la-vz-viewer-event-router",id:"la-vz-event-router",role:"presentation",tabIndex:-1,onKeyDown:t.handleKeyPress,onMouseDown:t.handleMouseEvent,onMouseMove:t.props.handleMouseEvent,onMouseUp:t.handleMouseEvent,children:t.props.children})},t}return n}(g.PureComponent);it.contextType=L;var st={a:"a",c:"c",g:"g",t:"t",u:"u"},ot={b:{c:"c",g:"g",t:"t"},d:{a:"a",g:"g",t:"t"},h:{a:"a",c:"c",t:"t"},k:{g:"g",t:"t"},m:{a:"a",c:"c"},n:{a:"a",c:"c",g:"g",t:"t"},r:{a:"a",g:"g"},s:{c:"c",g:"g"},v:{a:"a",c:"c",g:"g"},w:{a:"a",t:"t"},x:{a:"a",c:"c",g:"g",t:"t"},y:{c:"c",t:"t"}},lt={b:{c:"c",g:"g",u:"u"},d:{a:"a",g:"g",u:"u"},h:{a:"a",c:"c",u:"u"},k:{g:"g",u:"u"},m:{a:"a",c:"c"},n:{a:"a",c:"c",g:"g",u:"u"},r:{a:"a",g:"g"},s:{c:"c",g:"g"},v:{a:"a",c:"c",g:"g"},w:{a:"a",u:"u"},x:{a:"a",c:"c",g:"g",u:"u"},y:{c:"c",u:"u"}},ut={AAA:"K",AAC:"N",AAG:"K",AAT:"N",ACA:"T",ACC:"T",ACG:"T",ACT:"T",AGA:"R",AGC:"S",AGG:"R",AGT:"S",ATA:"I",ATC:"I",ATG:"M",ATT:"I",CAA:"Q",CAC:"H",CAG:"Q",CAT:"H",CCA:"P",CCC:"P",CCG:"P",CCT:"P",CGA:"R",CGC:"R",CGG:"R",CGT:"R",CTA:"L",CTC:"L",CTG:"L",CTT:"L",GAA:"E",GAC:"D",GAG:"E",GAT:"D",GCA:"A",GCC:"A",GCG:"A",GCT:"A",GGA:"G",GGC:"G",GGG:"G",GGT:"G",GTA:"V",GTC:"V",GTG:"V",GTT:"V",TAA:"*",TAC:"Y",TAG:"*",TAT:"Y",TCA:"S",TCC:"S",TCG:"S",TCT:"S",TGA:"*",TGC:"C",TGG:"W",TGT:"C",TTA:"L",TTC:"F",TTG:"L",TTT:"F"},gt=Array.from(new Set(Object.values(ut)).values()).join(""),ht=gt.toLowerCase().split("").filter((function(t){return"*"!==t})).reduce((function(t,e){return(0,b.Z)((0,y.Z)({},t),(0,w.Z)({},e,e))}),{}),dt={b:{d:"d",n:"n"},j:{i:"i",l:"l"},x:ht,z:{e:"e",q:"q"}},ft=function(t){return{aa:dt,dna:ot,rna:lt,unknown:ot}[t]},pt=new RegExp("^[".concat(gt,"BJXZ]+$"),"i"),mt=function(t){return t=t.substring(0,1e3),/^[atgcn.]+$/i.test(t)?"dna":/^[augcn.]+$/i.test(t)?"rna":pt.test(t)?"aa":"unknown"},Nt=function(t){return t.split("").reverse().join("")},Ct={a:"t",b:"v",c:"g",d:"h",g:"c",h:"d",k:"m",m:"k",n:"n",r:"y",s:"s",t:"a",u:"a",v:"b",w:"w",x:"x",y:"r"};Ct=(0,y.Z)({},Ct,Object.keys(Ct).reduce((function(t,e){return(0,b.Z)((0,y.Z)({},t),(0,w.Z)({},e.toUpperCase(),Ct[e].toUpperCase()))}),{}));var vt={aa:Object.keys(ht).reduce((function(t,e){var n;return(0,b.Z)((0,y.Z)({},t),(n={},(0,w.Z)(n,e.toUpperCase(),""),(0,w.Z)(n,e.toLowerCase(),""),n))}),{B:"",J:"",Z:"",b:"",j:"",z:""}),dna:Ct,rna:(0,b.Z)((0,y.Z)({},Ct),{A:"U",a:"u"}),undefined:Ct},At=function(t,e){if(!t)return{compSeq:"",seq:""};for(var n=vt[e],a="",c="",r=0,i=t.length;r<i;r+=1)t[r]in n&&(a+=t[r],c+=n[t[r]]);return{compSeq:c,seq:a}},xt=function(t,e){return At(t,e).compSeq.split("").reverse().join("")},Gt=new Set(["FWD","fwd","FORWARD","forward","FOR","for","TOP","top","1",1]),It=new Set(["REV","rev","REVERSE","reverse","BOTTOM","bottom","-1",-1]),Tt=function(t){return t?Gt.has(t)?1:It.has(t)?-1:0:0},qt=Object.keys(ut).reduce((function(t,e){return(0,b.Z)((0,y.Z)({},t),(0,w.Z)({},e.replace(/T/gi,"U"),ut[e]))}),{}),yt=function(t,e){if("aa"===e)return t;var n=ut;"rna"===e&&(n=qt);for(var a=t.toUpperCase(),c=a.length,r="",i=0,s=0;i<c;i+=3,s+=1)i+2<c&&(r+=n[a[i]+a[i+1]+a[i+2]]||"?");return r},bt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=1,n=12-e,a=(n=Math.pow(10,t+e))/10,c=Math.floor(Math.random()*(n-a+1))+a;return String(c).substring(e)},wt=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(t){var a;return(0,r.Z)(this,n),(a=e.call(this,t)).scroller=g.createRef(),a.insideDOM=g.createRef(),a.componentDidMount=function(){a.handleScrollOrResize(),window.addEventListener("resize",a.handleScrollOrResize)},a.componentDidUpdate=function(t,e,n){if(a.scroller.current){var c=a.props,r=c.seqBlocks,i=c.size,s=a.state,o=s.centralIndex,l=s.visibleBlocks;a.context&&o!==a.context.linear?a.scrollToCentralIndex():E(t.size,i)&&r.length===t.seqBlocks.length?E(e.visibleBlocks,l)&&a.restoreSnapshot(n):a.handleScrollOrResize()}},a.componentWillUnmount=function(){window.removeEventListener("resize",a.handleScrollOrResize)},a.getSnapshotBeforeUpdate=function(t){var e=a.scroller.current?a.scroller.current.scrollTop:0,n=t.blockHeights,c=0,r=0;do{r+=n[c],c+=1}while(r+n[c]<e&&c<n.length);return{blockIndex:c,blockY:e-r}},a.scrollToCentralIndex=function(){if(a.scroller.current){var t=a.props,e=t.blockHeights,n=t.bpsPerBlock,c=t.seqBlocks,r=t.size.height,i=t.totalHeight,s=a.state.visibleBlocks,o=a.scroller.current,l=o.clientHeight,u=o.scrollHeight,g=a.context.linear,h=c.findIndex((function(t){return t.props.firstBase<=g&&t.props.firstBase+n>=g})),d=[];if(u<=l)d=s;else if(h>-1){var f=c[h],p=h>0?e[h-1]:0,m=f.props.y-p,N=m+r;N>i&&(N=i,m=i-r),e.reduce((function(t,e,n){return t>=m&&t<=N&&d.push(n),t+e}),0),a.scroller.current.scrollTop=f.props.y-e[0]/2}E(d,s)||a.setState({centralIndex:g,visibleBlocks:d})}},a.restoreSnapshot=function(t){if(a.scroller.current){var e=a.props.blockHeights,n=t.blockIndex,c=t.blockY,r=e.slice(0,n).reduce((function(t,e){return t+e}),0)+c;a.scroller.current.scrollTop=r}},a.handleScrollOrResize=function(){if(a.scroller.current&&a.insideDOM.current){var t=a.props,e=t.blockHeights,n=t.size.height,c=t.totalHeight,r=a.state.visibleBlocks,i=[],s=0;if(a.scroller&&a.insideDOM){var o=a.scroller.current.getBoundingClientRect().top,l=a.insideDOM.current.getBoundingClientRect().top;s=l-o}s=35-s,s=Math.max(0,s);var u=(s=Math.min(c-n,s))+n;s-=2*e[0],e.reduce((function(t,e,n){return t>=s&&t<=u&&i.push(n),t+e}),0),E(i,r)||a.setState({visibleBlocks:i})}},a.incrementScroller=function(t){a.stopIncrementingScroller(),a.timeoutID=setTimeout((function(){a.scroller.current&&(a.scroller.current.scrollTop+=t,a.incrementScroller(t))}),5)},a.stopIncrementingScroller=function(){a.timeoutID&&(clearTimeout(a.timeoutID),a.timeoutID=null)},a.handleMouseOver=function(t){if(a.scroller.current)if(1===t.buttons){var e=a.scroller.current.getBoundingClientRect(),n=(t.clientY-e.top)/e.height;if(n>.9){var c=(n=Math.min(1,n))-.9,r=15*(c*=10);a.incrementScroller(r)}else if(n<.1){var i=-15*(10*(n=.1-Math.max(0,n)));a.incrementScroller(i)}else a.stopIncrementingScroller()}else a.timeoutID&&a.stopIncrementingScroller()},a.state={centralIndex:0,visibleBlocks:new Array(Math.min(5,t.seqBlocks.length)).fill(null).map((function(t,e){return e}))},a}return n.prototype.render=function(){var t=this.props,e=t.blockHeights,n=t.seqBlocks,a=t.size.width,c=t.totalHeight,r=this.state.visibleBlocks,i=(0,z.Z)(r,1)[0],s=e.slice(0,i).reduce((function(t,e){return t+e}),0);return(0,u.jsx)("div",{ref:this.scroller,className:"la-vz-linear-scroller","data-testid":"la-vz-viewer-linear",onFocus:function(){},onMouseOver:this.handleMouseOver,onScroll:this.handleScrollOrResize,children:(0,u.jsxs)("div",{ref:this.insideDOM,className:"la-vz-seqblock-container",style:{height:c},children:[(0,u.jsx)("div",{className:"la-vz-seqblock-padding-top",style:{height:s,width:a||0}}),r.map((function(t){return n[t]}))]})})},n}(g.PureComponent);wt.contextType=L;var St=function(t,e){if(document)for(var n=document.getElementsByClassName(t),a=0;a<n.length;a+=1)n[a].style.fillOpacity="".concat(e)},Mt=function(t){return(0,u.jsx)("g",{children:t.annotationRows.map((function(e,n){return(0,u.jsx)(Rt,{annotations:e,bpsPerBlock:t.bpsPerBlock,findXAndWidth:t.findXAndWidth,firstBase:t.firstBase,fullSeq:t.fullSeq,height:t.elementHeight,inputRef:t.inputRef,lastBase:t.lastBase,seqBlockRef:t.seqBlockRef,width:t.width,y:t.yDiff+t.elementHeight*n},"annotation-linear-row-".concat(e[0].id,"-").concat(t.firstBase,"-").concat(t.lastBase))}))})},Rt=function(t){return(0,u.jsx)("g",{className:"la-vz-linear-annotation-row",height:.8*t.height,transform:"translate(0, ".concat(t.y,")"),width:t.width,children:t.annotations.map((function(e,n){return(0,g.createElement)(Lt,(0,b.Z)((0,y.Z)({},t),{key:"annotation-linear-".concat(e.id,"-").concat(n,"-").concat(t.firstBase,"-").concat(t.lastBase),element:e,elements:t.annotations,index:n}))}))})},Lt=function(t){var e=t.element,n=t.elements,a=t.findXAndWidth,c=t.firstBase,r=t.index,i=t.inputRef,s=t.lastBase,o=e.color,l=e.direction,g=e.end,h=e.name,d=e.start,f=1===l,p=-1===l,m=a(r,e,n),N=m.overflowLeft,C=m.overflowRight,v=m.width,A=m.x,x=d>g&&g<c,G=f&&g>c&&g<=s,I=p&&d>=c&&d<=s,T=.8*t.height,q=T/4,y=[A,v],b=y[0],w=y[1],S=I?"M ".concat(8," 0"):"M 0 0",M="L ".concat(G?v-8:v," 0"),R="",L="L ".concat(v," ").concat(T);C&&v>8||x?L="\n        L ".concat(v-4," ").concat(q,"\n        L ").concat(v," ").concat(2*q,"\n        L ").concat(v-4," ").concat(3*q,"\n        L ").concat(v," ").concat(4*q):G&&(L="\n        L ".concat(v," ").concat(T/2,"\n        L ").concat(v-Math.min(8,w)," ").concat(T));var Z="L 0 ".concat(T," L 0 0");N&&v>8?Z="\n        L 0 ".concat(T,"\n        L ").concat(4," ").concat(3*q,"\n        L 0 ").concat(2*q,"\n        L ").concat(4," ").concat(q,"\n        L 0 0"):I&&(Z="\n        L ".concat(Math.min(8,w)," ").concat(T,"\n        L 0 ").concat(T/2,"\n        L ").concat(Math.min(8,w)," 0")),R="".concat(S," ").concat(M," ").concat(L," ").concat(Z),f&&C||f&&x?v>15&&(R+="\n        M ".concat(v-12," ").concat(q,"\n        L ").concat(v-8," ").concat(2*q,"\n        L ").concat(v-12," ").concat(3*q,"\n        M ").concat(v-16," ").concat(q,"\n        L ").concat(v-12," ").concat(2*q,"\n        L ").concat(v-16," ").concat(3*q)):(p&&N||p&&x)&&v>15&&(R+="\n        M ".concat(12," ").concat(3*q,"\n        L ").concat(8," ").concat(2*q,"\n        L ").concat(12," ").concat(q,"\n        M ").concat(16," ").concat(3*q,"\n        L ").concat(12," ").concat(2*q,"\n        L ").concat(16," ").concat(q));var j=6.75*h.length<v-15;return(0,u.jsxs)("g",{id:e.id,transform:"translate(".concat(b,", ").concat(.1*T,")"),children:[(0,u.jsx)("path",{ref:i(e.id,{end:g,name:e.name,ref:e.id,start:d,type:"ANNOTATION",viewer:"LINEAR"}),className:"".concat(e.id," la-vz-annotation"),cursor:"pointer",d:R,fill:o,id:e.id,stroke:o?D[o]||W(o):"gray",onBlur:function(){},onFocus:function(){},onMouseOut:function(){return St(e.id,.7)},onMouseOver:function(){return St(e.id,1)}}),j&&(0,u.jsx)("text",{className:"la-vz-annotation-label",cursor:"pointer",dominantBaseline:"middle",fontSize:12,id:e.id,textAnchor:"middle",x:v/2,y:T/2+1,onBlur:function(){},onFocus:function(){},onMouseOut:function(){return St(e.id,.7)},onMouseOver:function(){return St(e.id,1)},children:h})]})},Zt=function(t){var e=t.cutSites,n=t.findXAndWidth,a=t.firstBase,c=t.inputRef,r=t.lastBase,i=t.lineHeight,s=t.size,o=t.yDiff,l=t.zoom.linear,g=jt(e.filter((function(t){return t.end>t.start})),a,r,n);if(!g.length)return null;var h=kt(g,s),d=o+i;return(0,u.jsx)("g",{className:"la-vz-cut-sites",children:h.map((function(t){var e;return(0,u.jsxs)("g",{children:[t.label.render&&(0,u.jsx)("text",{className:"la-vz-cut-site-text ".concat(t.c.id,"-label"),dominantBaseline:"hanging",id:t.c.id,textAnchor:"start",x:t.label.x,y:o,onBlur:function(){return 0},onFocus:function(){return 0},onMouseOut:function(){return Dt(t.c.id,!1)},onMouseOver:function(){return Dt(t.c.id,!0)},children:t.label.text}),l>10&&(0,u.jsx)("path",{ref:c(t.c.id,{clockwise:!0,end:t.c.end,id:t.c.id,start:t.c.start,type:"ENZYME",viewer:"LINEAR"}),className:"la-vz-cut-site-highlight ".concat(t.c.id),d:"M ".concat(t.highlight.x," ").concat(d,"\n                    L ").concat(t.highlight.x+t.highlight.width," ").concat(d,"\n                    L ").concat(t.highlight.x+t.highlight.width," ").concat(d+2*i,"\n                    L ").concat(t.highlight.x," ").concat(d+2*i," Z"),style:(null===(e=t.c.color)||void 0===e?void 0:e.length)?{fill:t.c.color}:{},onMouseOut:function(){return Dt(t.c.id,!1)},onMouseOver:function(){return Dt(t.c.id,!0)}}),t.top.render&&(0,u.jsx)("path",{className:"la-vz-cut-site ".concat(t.c.id),d:"M ".concat(t.top.x," ").concat(d," L ").concat(t.top.x," ").concat(d+i)}),t.connector.render&&l>10&&(0,u.jsx)("path",{className:"la-vz-cut-site ".concat(t.c.id),d:"M ".concat(t.connector.x," ").concat(d+i,"\n                    L ").concat(t.connector.x+t.connector.width," ").concat(d+i)}),t.bottom.render&&l>10&&(0,u.jsx)("path",{className:"la-vz-cut-site ".concat(t.c.id),d:"M ".concat(t.bottom.x," ").concat(d+i," L ").concat(t.bottom.x," ").concat(d+2*i)})]},"cut-site-".concat(t.c.id,"-").concat(a))}))})},jt=function(t,e,n,a){return t.map((function(t){var c=a(t.fcut,t.fcut).x,r=a(t.rcut,t.rcut).x,i=t.fcut>e&&t.fcut<n;(t.fcut===e&&t.rcut>e&&t.rcut<=n||t.fcut===n&&t.rcut>=e&&t.rcut<=n)&&(i=!0);var s=t.rcut>e&&t.rcut<n;return(t.rcut===e&&t.fcut>e&&t.fcut<=n||t.rcut===n&&t.fcut>=e&&t.fcut<=n)&&(s=!0),{bottom:{render:s,x:r},c:t,connector:zt(t,c,r,e,n,i,s,a),highlight:Bt(t,e,n,a),top:{render:i,x:c}}}))},Bt=function(t,e,n,a){return Et(t.start,t.end,e,n)?t.start>t.end?a(t.end<e?n:Math.min(n,t.end),t.start>n?e:Math.max(e,t.start)):a(t.start<e?n:Math.min(n,t.start),t.end>n?e:Math.max(e,t.end)):a(t.start,t.end)},Et=function(t,e,n,a){return t<n&&e<n||t>a&&e>a||(e>=t?e<a&&t>n:t<a&&e>n)},zt=function(t,e,n,a,c,r,i,s){return r&&i?{render:!0,width:Math.abs(n-e),x:Math.min(e,n)}:r?t.start+e>t.end+n||t.fcut>t.rcut?(0,y.Z)({render:!0},s(a,t.fcut)):(0,y.Z)({render:!0},s(t.fcut,c)):i?t.start+e>t.end+n||t.fcut>t.rcut?(0,y.Z)({render:!0},s(t.rcut,c)):(0,y.Z)({render:!0},s(a,t.rcut)):{render:!1,width:0,x:0}},kt=function(t,e){var n=t.filter((function(t){return!t.top.render})).map((function(t){return(0,b.Z)((0,y.Z)({},t),{label:{render:!1,text:t.c.name,x:t.highlight.x}})})),a=t.filter((function(t){return t.top.render})).sort((function(t,e){return t.top.x-e.top.x})).map((function(t){return(0,b.Z)((0,y.Z)({},t),{label:{render:t.top.render,text:t.c.name,x:t.highlight.x}})})),c=function(t){return t.label.x+t.label.text.length*$t>e.width};a.forEach((function(t){var n=t.label.text.length*$t;c(t)&&(t.label.x=e.width-n)}));return a.forEach((function(t,e){if(0==e)return t;for(var n,c,r=a[e-1];c=t,(n=r).label.x+n.label.text.length*$t>c.label.x;)t.label.x+=2*$t;return t})),a.forEach((function(t){c(t)&&(t.label.render=!1)})),n.concat(a)},Dt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(document){for(var n=document.getElementsByClassName("".concat(t,"-label")),a=0;a<n.length;a+=1)n[a].style.fillOpacity=e?"1.0":"0.8",n[a].style.fontWeight=e?"400":"300";n=document.getElementsByClassName(t);for(var c=0;c<n.length;c+=1)n[c].style.fillOpacity=e?"0.25":"0",n[c].style.stroke=e?"black":"rgb(115, 119, 125)"}},Ht=function(t){var e=t.compYDiff,n=t.filteredRows,a=t.findXAndWidth,c=t.firstBase,r=t.indexYDiff,i=t.inputRef,s=t.lastBase,o=t.lineHeight,l=t.listenerOnly,g=t.zoomed;return(0,u.jsx)(u.Fragment,{children:n.map((function(t){return(0,u.jsx)(Ft,{compYDiff:e,direction:t.direction||1,end:t.end,findXAndWidth:a,firstBase:c,indexYDiff:r,inputRef:i,lastBase:s,lineHeight:o,listenerOnly:l,start:t.start,zoomed:g},JSON.stringify(t))}))})},Ft=function(t){var e,n=t.compYDiff,a=t.direction,c=t.end,r=t.findXAndWidth,i=t.firstBase,s=t.indexYDiff,o=t.inputRef,l=t.lastBase,g=t.lineHeight,h=t.listenerOnly,d=t.start,f=t.zoomed,p=r(d,c),m=p.width,N=p.x;d>c&&(m=(e=r(d>l?i:Math.max(i,d),c<i?l:Math.min(l,c))).width,N=e.x);var C=bt(),v=s;return(a<0||!f)&&(v=n),(0,u.jsx)("rect",{ref:o(C,{end:c,id:C,start:d,type:"FIND",viewer:"LINEAR"}),className:"la-vz-search",cursor:"pointer",height:g,id:C,shapeRendering:"crispEdges",stroke:h?"none":"rgba(0, 0, 0, 0.5)",strokeWidth:1,style:h?{fill:"transparent"}:{},width:m,x:N,y:v},C)},Pt=function(t){return(0,u.jsx)(u.Fragment,{children:t.highlights.map((function(e,n){return(0,u.jsx)(Wt,(0,b.Z)((0,y.Z)({},t),{highlight:e,index:n}),"linear-highlight-".concat(e.id,"-").concat(t.listenerOnly))}))})},Wt=function(t){var e=t.findXAndWidth(t.index,t.highlight,t.highlights),n=e.width,a=e.x,c={};t.listenerOnly?c={fill:"transparent"}:t.highlight.color&&(c={fill:t.highlight.color});var r={className:"la-vz-highlight",cursor:"pointer",height:t.lineHeight,id:t.highlight.id,stroke:t.listenerOnly?"none":"rgba(0, 0, 0, 0.5)",strokeWidth:1,style:c,width:n,x:a};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("rect",(0,b.Z)((0,y.Z)({ref:t.inputRef(t.highlight.id,(0,b.Z)((0,y.Z)({ref:t.highlight.id},t.highlight),{type:"HIGHLIGHT",viewer:"LINEAR"}))},r),{y:t.indexYDiff}),"linear-highlight-".concat(t.highlight.id,"-top")),(0,u.jsx)("rect",(0,b.Z)((0,y.Z)({ref:t.inputRef(t.highlight.id,(0,b.Z)((0,y.Z)({ref:t.highlight.id},t.highlight),{type:"HIGHLIGHT",viewer:"LINEAR"}))},r),{y:t.compYDiff}),"linear-highlight-".concat(t.highlight.id,"-bottom"))]})},Ot=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;return(0,r.Z)(this,n),(t=e.apply(this,arguments)).genTicks=function(){var e=t.props,n=e.charWidth,a=e.findXAndWidth,c=e.firstBase,r=e.seq,i=e.seqType,s=e.size,o=e.zoom,l=r.length,h=0;switch(!0){case o.linear>85:h=5;break;case o.linear>40:h=10;break;case o.linear>10:h=20;break;case o.linear>=0:h=50;break;default:h=10}"aa"===i&&(h/=2);var d=[];0===c&&d.push(1);for(var f=0;(f+c)%h!==0;)f+=1;for(;f<l;)f+c!==0&&d.push(f+c),f+=h;return d.map((function(t){var e=a(t-1,t-1).x;e+=n/2;var c=Math.ceil(Math.log10(t+1)),r=7.7*(c-=1),i=a(t-1,t-1).x;i+=n/2,i-=r/2+3,i=Math.max(0,i),i=Math.min(s.width-r/2,i);var o="translate(".concat(e,", 1)"),l="translate(".concat(i,", 10)");return(0,u.jsxs)(g.Fragment,{children:[(0,u.jsx)("path",{className:"la-vz-index-tick",d:"M 0 0 L 0 7",transform:o}),(0,u.jsx)("text",{className:"la-vz-index-tick-label",dominantBaseline:"hanging",fontSize:12,transform:l,children:t})]},t)}))},t}return n.prototype.render=function(){var t=this.props,e=t.findXAndWidth,n=t.firstBase,a=t.lastBase,c=t.showIndex,r=t.yDiff;if(!c)return null;var i=e(n,a),s=i.width,o=i.x;return(0,u.jsxs)("g",{transform:"translate(0, ".concat(r,")"),children:[(0,u.jsx)("path",{className:"la-vz-index-line",d:"M 0 1 L ".concat(o+s," 1")}),this.genTicks()]})},n}(g.PureComponent),Yt=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;return(0,r.Z)(this,n),(t=e.apply(this,arguments)).id=bt(),t}return n.prototype.render=function(){var t=this.props,e=t.findXAndWidth,n=t.firstBase,a=t.fullSeq,c=t.lastBase,r=t.selectEdgeHeight,i=this.context,s=i.clockwise,o=i.end,l=i.ref,g=i.start;if("undefined"!==typeof g&&"undefined"!==typeof o){var h=null,d=null;if(s?(g>=n&&g<c&&(h=g),o>n&&o<=c&&(d=o)):(g>n&&g<=c&&(h=g),o>=n&&o<c&&(d=o)),("ALL"===l||0===g&&o===a.length-1)&&(h=null,d=null),null===h&&null===d)return null;null===h&&(h=d,d=null);var f,p=e(h,d),m=p.width,N=p.x;if(!1===s&&null!==h&&null!==d)m=(f=e(d,h)).width,N=f.x;var C=N+m;return null!==h&&null!==d&&(g>o&&!0===s||o>g&&!1===s)&&(C=N-m),g===o&&g===c?null:null===h&&null===d?null:(h==d&&(d=null),(0,u.jsxs)("g",{children:[null!==h&&(0,u.jsx)("rect",{className:"la-vz-selection-edge","data-testid":"la-vz-selection-edge",height:r,shapeRendering:"crispEdges",strokeWidth:0,width:1,x:N,y:-5}),null!==d&&(0,u.jsx)("rect",{className:"la-vz-selection-edge","data-testid":"la-vz-selection-edge",height:r,shapeRendering:"crispEdges",strokeWidth:0,width:1,x:C,y:-5})]}))}},n}(g.PureComponent);Yt.contextType=tt;var Kt=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;return(0,r.Z)(this,n),(t=e.apply(this,arguments)).id=bt(),t}return n.prototype.render=function(){var t=this.props,e=t.findXAndWidth,n=t.firstBase,a=t.fullSeq,c=t.lastBase,r=t.selectHeight,i=this.context,s=i.clockwise,o=i.ref,l=this.context,g=l.end,h=l.start;if("undefined"!==typeof h&&"undefined"!==typeof g){if(h===g&&"ALL"!==o)return null;("ALL"===o||0===h&&g===a.length)&&(h=0,g=0);var d,f,p={className:"la-vz-selection","data-testid":"la-vz-selection-block",height:r,shapeRendering:"auto",y:-5},m=null,N=null,C=null;if(s&&g>h){if(h<=c&&g>n)N=(d=e(Math.max(n,h),Math.min(c,g))).width,m=d.x}else if(s&&h>g){if(!(h>c&&g<n))if(h<c&&g>n){var v,A=e(h,c),x=A.width,G=A.x;C=(0,u.jsx)("rect",(0,b.Z)((0,y.Z)({},p),{width:x,x:G})),N=(v=e(n,g)).width,m=v.x}else{var I;N=(I=e(h>c?n:Math.max(n,h),g<n?c:Math.min(c,g))).width,m=I.x}}else if(!s&&h>g){var T;if(g<=c&&h>=n)N=(T=e(Math.max(n,g),Math.min(c,h))).width,m=T.x}else if(!s&&g>h&&(h>n||g<c))if(h>n&&h<c&&g>n){var q,w=e(g,c),S=w.width,M=w.x;C=(0,u.jsx)("rect",(0,b.Z)((0,y.Z)({},p),{width:S,x:M})),N=(q=e(n,h)).width,m=q.x}else{var R;N=(R=e(h<n?g:n,g>c?h:c)).width,m=R.x}if("ALL"===o||h===g)N=(f=e(Math.max(n,0),Math.min(c,a.length+1))).width,m=f.x;return m||N?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("rect",(0,b.Z)((0,y.Z)({},p),{width:N?N+1:void 0,x:m||void 0})),C]}):null}},n}(g.PureComponent);Kt.contextType=tt;var Vt={Block:Kt,Edges:Yt},Qt=function(t){var e=t.bpsPerBlock,n=t.charWidth,a=t.elementHeight,c=t.findXAndWidth,r=t.firstBase,i=t.fullSeq,s=t.inputRef,o=t.lastBase,l=t.onUnmount,g=t.seqType,h=t.translations,d=t.yDiff;return(0,u.jsx)("g",{className:"la-vz-linear-translation","data-testid":"la-vz-linear-translation",children:h.map((function(t,h){return(0,u.jsx)(Ut,{bpsPerBlock:e,charWidth:n,findXAndWidth:c,firstBase:r,fullSeq:i,height:.9*a,id:t.id,inputRef:s,lastBase:o,seqType:g,translation:t,y:d+a*h,onUnmount:l},"".concat(t.id,"-").concat(r))}))})},Ut=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;return(0,r.Z)(this,n),(t=e.apply(this,arguments)).AAs=[],t.componentWillUnmount=function(){var e=t.props.onUnmount;t.AAs.forEach((function(t){return e(t)}))},t.genPath=function(e,n){var a=t.props,c=a.charWidth,r=a.height,i=e*c,s=3*n;return"M 0 0\n\t\t\tL ".concat(i," 0\n\t\t\tL ").concat(i+s," ").concat(r/2,"\n\t\t\tL ").concat(i," ").concat(r,"\n\t\t\tL 0 ").concat(r,"\n\t\t\tL ").concat(s," ").concat(r/2,"\n\t\t\tZ")},t}return n.prototype.render=function(){var t=this,e=this.props,n=e.bpsPerBlock,a=e.charWidth,c=e.findXAndWidth,r=e.firstBase,i=e.fullSeq,s=e.height,o=e.inputRef,l=e.lastBase,g=e.seqType,h=e.translation,d=e.y,f=h.AAseq,p=h.direction,m=h.end,N=h.id,C=h.start,v="aa"===g?1:3,A=f.split("");return(0,u.jsx)("g",{ref:o(N,{end:m,name:"translation",parent:(0,b.Z)((0,y.Z)({},h),{type:"TRANSLATION"}),start:C,type:"AMINOACID",viewer:"LINEAR"}),id:N,transform:"translate(0, ".concat(d,")"),children:A.map((function(e,d){var f=bt();t.AAs.push(f);var m=(C+d*v)%i.length,N=C+d*v+v;if(m>N&&r>=n?N+=i.length:m>N&&r<n?m-=i.length:0===m&&r>=n&&(m+=i.length,N+=i.length),m>=l||N<=r)return null;var A=!0,x=v;m<r?(x=Math.min(v,N-r))<2&&"aa"!==g&&(A=!1):N>l&&(x=Math.min(v,l-m))<2&&"aa"!==g&&(A=!1);var G=c(Math.max(m,r)).x,I=t.genPath(x,1===p?1:-1);return(0,u.jsxs)("g",{ref:o(f,{end:N,parent:(0,b.Z)((0,y.Z)({},h),{type:"TRANSLATION"}),start:m,type:"AMINOACID",viewer:"LINEAR"}),id:f,transform:"translate(".concat(G,", 0)"),children:[(0,u.jsx)("path",{d:I,fill:H(e.charCodeAt(0)),id:f,shapeRendering:"geometricPrecision",stroke:F(e.charCodeAt(0)),style:{cursor:"pointer",opacity:.7,strokeWidth:.8}}),A&&(0,u.jsx)("text",{className:"la-vz-translation-amino-acid-label",cursor:"pointer","data-testid":"la-vz-translation",dominantBaseline:"middle",id:f,textAnchor:"middle",x:.5*x*a,y:"".concat(s/2+1),children:e})]},f)}))})},n}(g.PureComponent),Xt=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;return(0,r.Z)(this,n),(t=e.apply(this,arguments)).componentWillUnmount=function(){var e=t.props,n=e.id;(0,e.onUnmount)(n)},t.findXAndWidthElement=function(e,n,a){var c,r,i=t.props,s=i.bpsPerBlock,o=i.firstBase,l=i.fullSeq,u=o+i.seq.length,g=n.end,h=n.start,d=t.findXAndWidth(h,g),f=d.width,p=d.x,m=h<o,N=g>u||h===g&&l.length>s;if(a.reduce((function(t,e){return e.id===n.id?t+1:t}),0)>1)a.findIndex((function(t){return t.id===n.id}))===e?(f=(c=t.findXAndWidth(o,g)).width,p=c.x,m=!0,N=!1):(f=(r=t.findXAndWidth(h,u)).width,p=r.x,m=!1,N=!0);else if(h>g){var C;f=(C=t.findXAndWidth(h>u?o:Math.max(o,h),g<o?u:Math.min(u,g))).width,p=C.x,h>o&&(m=!0,N=g>u),g<o&&(m=h<o,N=!0)}else if(h===g){var v;f=(v=t.findXAndWidth(h,g+l.length)).width,p=v.x}return{overflowLeft:m,overflowRight:N,width:f,x:p}},t.findXAndWidth=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=t.props,c=a.bpsPerBlock,r=a.charWidth,i=a.firstBase,s=a.fullSeq,o=s.length,l=a.size;e|=0,n|=0;var u=Math.min(i+c,o),g=o>=c,h=0;e>=i&&(h=(e-i)*r,h=Math.max(h,0)||0);var d=l.width;if(e===n)d=0;else if(e>=i||n<u){var f=Math.max(e,i),p=Math.min(n,u);d=l.width*((p-f)/c),d=Math.abs(d)||0}else i+c>o&&g&&(d=l.width*(o%c/c));return{width:d,x:h}},t.seqTextSpan=function(e,n){var a,c=t.props,r=c.bpColors,i=c.charWidth,s=c.firstBase,o=c.id;return r&&(a=r[e]||r[e.toUpperCase()]||r[e.toLowerCase()]||r[n+s]||void 0),(0,u.jsx)("tspan",{fill:a||void 0,x:i*n+.2*i,children:e},n+e+o)},t}return n.prototype.render=function(){var t=this.props,e=t.annotationRows,n=t.blockHeight,a=t.bpsPerBlock,c=t.charWidth,r=t.compSeq,i=t.cutSiteRows,s=t.elementHeight,o=t.firstBase,l=t.fullSeq,g=t.handleMouseEvent,h=t.highlights,d=t.id,f=t.inputRef,p=t.lineHeight,m=t.onUnmount,N=t.searchRows,C=t.seq,v=t.seqFontSize,A=t.seqType,x=t.showComplement,G=t.showIndex,I=t.size,T=t.translations,q=t.zoom,w=t.zoomed;if(!I.width||!I.height)return null;var S={fontSize:v,lengthAdjust:"spacing",textAnchor:"start",textLength:I.width>=0?I.width:1,textRendering:"optimizeLegibility"},M=o+C.length,R=w&&i.length?p:0,L=0+R,Z="aa"===A?0:p,j=L+Z,B=w&&x?p:0,E=j+B,z=s*T.length,k=E+z,D=s*e.length,H=e.length+T.length?3:0,F=k+D+H,P=R+Z+B+z+D+H+5,W=P+9;return!w&&P<=s&&(W=s),(0,u.jsxs)("svg",{ref:f(d,{end:M,ref:d,start:o,type:"SEQ",viewer:"LINEAR"}),className:"la-vz-seqblock",cursor:"text","data-testid":"la-vz-seqblock",display:"block",height:n,id:d,width:I.width>=0?I.width:0,onMouseDown:g,onMouseMove:g,onMouseUp:g,children:[G&&(0,u.jsx)(Ot,{charWidth:c,findXAndWidth:this.findXAndWidth,firstBase:o,lastBase:M,seq:C,seqType:A,showIndex:G,size:I,yDiff:F,zoom:q}),(0,u.jsx)(Vt.Block,{findXAndWidth:this.findXAndWidth,firstBase:o,fullSeq:l,lastBase:M,selectHeight:P,onUnmount:m}),(0,u.jsx)(Pt,{compYDiff:j-3,findXAndWidth:this.findXAndWidthElement,firstBase:o,highlights:h,indexYDiff:L-3,inputRef:f,lastBase:M,lineHeight:p,listenerOnly:!1,seqBlockRef:this}),(0,u.jsx)(Vt.Edges,{findXAndWidth:this.findXAndWidth,firstBase:o,fullSeq:l,lastBase:M,selectEdgeHeight:W}),(0,u.jsx)(Ht,{compYDiff:j-3,filteredRows:x?N:N.filter((function(t){return 1===t.direction})),findXAndWidth:this.findXAndWidth,firstBase:o,indexYDiff:L-3,inputRef:f,lastBase:M,lineHeight:p,listenerOnly:!1,zoomed:w}),T.length&&(0,u.jsx)(Qt,{bpsPerBlock:a,charWidth:c,elementHeight:s,findXAndWidth:this.findXAndWidth,firstBase:o,fullSeq:l,inputRef:f,lastBase:M,seqType:A,translations:T,yDiff:E,onUnmount:m}),e.length&&(0,u.jsx)(Mt,{annotationRows:e,bpsPerBlock:a,elementHeight:s,findXAndWidth:this.findXAndWidthElement,firstBase:o,fullSeq:l,inputRef:f,lastBase:M,seqBlockRef:this,width:I.width,yDiff:k}),w&&"aa"!==A?(0,u.jsx)("text",(0,b.Z)((0,y.Z)({},S),{className:"la-vz-seq","data-testid":"la-vz-seq",id:d,transform:"translate(0, ".concat(L+p/2,")"),children:C.split("").map(this.seqTextSpan)})):null,r&&w&&x&&"aa"!==A?(0,u.jsx)("text",(0,b.Z)((0,y.Z)({},S),{className:"la-vz-comp-seq","data-testid":"la-vz-comp-seq",id:d,transform:"translate(0, ".concat(j+p/2,")"),children:r.split("").map(this.seqTextSpan)})):null,w&&(0,u.jsx)(Zt,{cutSites:i,findXAndWidth:this.findXAndWidth,firstBase:o,inputRef:f,lastBase:M,lineHeight:p,size:I,yDiff:-3,zoom:q}),(0,u.jsx)(Ht,{compYDiff:j-3,filteredRows:x?N:N.filter((function(t){return 1===t.direction})),findXAndWidth:this.findXAndWidth,firstBase:o,indexYDiff:L-3,inputRef:f,lastBase:M,lineHeight:p,listenerOnly:!0,zoomed:w}),(0,u.jsx)(Pt,{compYDiff:j-3,findXAndWidth:this.findXAndWidthElement,firstBase:o,highlights:h,indexYDiff:L-3,inputRef:f,lastBase:M,lineHeight:p,listenerOnly:!0,seqBlockRef:this})]})},n}(g.PureComponent);Xt.defaultProps={};var _t=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;return(0,r.Z)(this,n),(t=e.apply(this,arguments)).shouldComponentUpdate=function(e){return!E(e,t.props)},t}return n.prototype.render=function(){var t=this.props,e=t.annotations,n=t.bpsPerBlock,a=t.compSeq,c=t.cutSites,r=t.elementHeight,i=t.highlights,s=t.lineHeight,o=t.onUnmount,l=t.search,g=t.seq,h=t.seqType,d=t.showComplement,f=t.showIndex,p=t.size,m=t.translations,N=t.zoom,C=N.linear>10,v=g.length,A=Math.round(Math.ceil(v/n));A===Number.POSITIVE_INFINITY&&(A=1);for(var x=new Array(A),G=new Array(A),I=new Array(A),T=new Array(A),q=c.length?B(c,n,A):new Array(A).fill([]),w=function(t,e,n){for(var a=new Array(n),c=0;c<n;c+=1){a[c]=[];for(var r=0;r<t.length;r+=1)a[c][r]=[]}for(var i=0;i<t.length;i+=1)for(var s=0;s<t[i].length;s+=1)if(t[i][s].start<t[i][s].end)for(var o=Math.max(0,Math.floor(t[i][s].start/e)),l=Math.floor((t[i][s].end-1)/e);o<=l&&o<n;)a[o][i].push(t[i][s]),o+=1;else if(t[i][s].end<t[i][s].start){var u=Math.floor((t[i][s].end-1)/e);for(0===t[i][s].end&&(u=-1);u>=0&&u<a.length;)a[u][i].push(t[i][s]),u-=1;for(var g=Math.floor(t[i][s].start/e);g<n;)a[g][i].push(t[i][s]),g+=1}else if(t[i][s].end===t[i][s].start){for(var h=0;h<a.length;h+=1)a[h][i].push(t[i][s]);if(0===t[i][s].end)continue;a[Math.floor(t[i][s].start/e)][i].push(t[i][s])}for(var d=0;d<n;d+=1)a[d]=a[d].filter((function(t){return t[0]}));return a}(j(function(t){return t.forEach((function(t){0===t.end&&t.start>t.end&&(t.end=v),t.start===v&&t.end<t.start&&(t.start=0)})),t}(e),g.length),n,A),S=l&&l.length?B(l,n,A):new Array(A).fill([]),M=B(i,n,A),R=m.length?B(function(t,e,n){var a=e+e,c="aa"===n?1:3;return t.map((function(t){var r=t.direction,i=t.start,s=t.end;i>s&&(s+=e.length);var o=1===r?a.substring(i,s):xt(a.substring(i,s),n),l=1===r?yt(o,n):yt(o,n).split("").reverse().join(""),u=1===r?i:s-l.length*c,g=1===r?(i+l.length*c)%e.length:s%e.length;return 0===g&&(g+=e.length),(0,b.Z)((0,y.Z)({id:bt(),name:"translation"},t),{AAseq:l,end:g,start:u})}))}(m,g,h),n,A):new Array(A).fill([]),L=0;L<A;L+=1){var Z=L*n,E=Z+n;G[L]=g.substring(Z,E),I[L]=a.substring(Z,E),x[L]=G[L]+String(L);var z=1.1*s;"aa"!=h&&(z+=s),C&&(z+=d?s:0),f&&(z+=s),R[L].length&&(z+=R[L].length*r),w[L].length&&(z+=w[L].length*r),q[L].length&&(z+=s),T[L]=z}for(var k=[],D=0,H=0;H<A;H+=1){var F=H*n;k.push((0,u.jsx)(Xt,{annotationRows:w[H],blockHeight:T[H],bpColors:this.props.bpColors,bpsPerBlock:n,charWidth:this.props.charWidth,compSeq:I[H],cutSiteRows:q[H],elementHeight:r,firstBase:F,fullSeq:g,handleMouseEvent:this.props.handleMouseEvent,highlights:M[H],id:x[H],inputRef:this.props.inputRef,lineHeight:s,searchRows:S[H],seq:G[H],seqFontSize:this.props.seqFontSize,seqType:h,showComplement:d,showIndex:f,size:p,translations:R[H],y:D,zoom:N,zoomed:C,onUnmount:o},x[H])),D+=T[H]}return k.length&&(0,u.jsx)(wt,{blockHeights:T,bpsPerBlock:n,seqBlocks:k,size:p,totalHeight:T.reduce((function(t,e){return t+e}),0)})},n}(g.Component),Jt=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;return(0,r.Z)(this,n),(t=e.apply(this,arguments)).state=(0,y.Z)({},J),t.previousBase=null,t.forward=null,t.fullSelectionLength=0,t.dragEvent=!1,t.selectionStarted=!1,t.shiftSelection=!1,t.lastClick=Date.now(),t.idToRange=new Map,t.componentDidMount=function(){document&&document.addEventListener("mouseup",t.stopDrag)},t.componentWillUnmount=function(){document&&document.removeEventListener("mouseup",t.stopDrag)},t.stopDrag=function(){t.dragEvent=!1},t.resetCircleDragVars=function(e){t.previousBase=e,t.forward=null,t.fullSelectionLength=0,t.dragEvent=!0},t.inputRef=function(e,n){t.idToRange.set(e,(0,y.Z)({ref:e},n))},t.removeMountedBlock=function(e){t.idToRange.delete(e)},t.mouseEvent=function(e){var n=t.props.setCentralIndex;if("mousemove"!==e.type&&"mouseup"!==e.type||t.dragEvent){var a=Date.now()-t.lastClick,c=t.dragEvent?t.idToRange.get(e.currentTarget.id):t.idToRange.get(e.target.id)||t.idToRange.get(e.currentTarget.id);if(c){var r=(c=(0,b.Z)((0,y.Z)({},c),{end:c.end||0,start:c.start||0})).direction,i=c.end,s=c.start,o=c.viewer;switch(c.type){case"ANNOTATION":case"FIND":case"TRANSLATION":case"ENZYME":case"HIGHLIGHT":"LINEAR"!==o&&n&&n("LINEAR",s||0);var l=!r||1===r,u=l?s:i,g=l?i:s;t.setSelection((0,b.Z)((0,y.Z)({},c),{clockwise:l,end:g,start:u})),t.dragEvent=!1,t.lastClick=Date.now();break;case"AMINOACID":var h=!r||1===r,d=h?s:i,f=h?i:s;a<300&&c.parent&&(c=(0,b.Z)((0,y.Z)({},c.parent),{end:c.parent.end||0,start:c.parent.start||0}),d=h?c.start:c.end,f=h?c.end:c.start),t.setSelection((0,b.Z)((0,y.Z)({},c),{clockwise:h,end:f,start:d})),t.dragEvent=!1,t.lastClick=Date.now(),e.stopPropagation();break;case"SEQ":"LINEAR"===o?t.handleLinearSeqEvent(e,(0,b.Z)((0,y.Z)({},c),{end:c.end||0,start:c.start||0})):"CIRCULAR"===o&&t.handleCircularSeqEvent(e)}}}},t.handleLinearSeqEvent=function(e,n){var a=t.context,c=t.calculateBaseLinear(e,n),r=null!==a.start&&c>=(a.start||0);"mousedown"===e.type&&null!==c?(t.setSelection((0,b.Z)((0,y.Z)({},J),{clockwise:r,end:c,start:e.shiftKey?a.start:c})),t.dragEvent=!0):t.dragEvent&&null!==c&&t.setSelection((0,b.Z)((0,y.Z)({},J),{clockwise:r,end:c,start:a.start}))},t.handleCircularSeqEvent=function(e){var n=t.props.seq,a=t.context,c=a.start,r=a.clockwise,i=a.end,s=t.calculateBaseCircular(e),o=n.length;if("mousedown"===e.type){var l=e.shiftKey?c||0:s,u=e.shiftKey?t.calcSelectionLength(l,s,!1):t.calcSelectionLength(l,s,!0);t.selectionStarted=u>0,t.resetCircleDragVars(l),t.setSelection((0,b.Z)((0,y.Z)({},J),{clockwise:r,end:s,ref:"",start:l,type:"SEQ"}))}else if("mousemove"===e.type&&t.dragEvent&&s&&t.previousBase&&s!==t.previousBase){var g=s>t.previousBase,h=.9*o,d=Math.abs(t.previousBase-s),f=d>h;t.forward=g?!f:f;var p=f?o-d:d,m=t.forward===a.clockwise||null===a.clockwise;if(m?t.fullSelectionLength+=p:t.fullSelectionLength-=p,t.previousBase=s,t.fullSelectionLength<.01*o&&!t.shiftSelection){r=t.forward;var N=t.calcSelectionLength(a.start||0,s,t.forward);t.fullSelectionLength<0&&(t.fullSelectionLength=N),N>t.fullSelectionLength&&(r=!t.forward),i=s}m=t.forward===a.clockwise;var C=t.calcSelectionLength(a.start||0,s,a.clockwise||!0);t.selectionStarted&&t.shiftSelection&&C>t.fullSelectionLength&&(t.fullSelectionLength=C);var v=t.dragEvent&&m,A=t.fullSelectionLength>=o;i=v&&A?c:s,t.shiftSelection=!1,t.setSelection((0,b.Z)((0,y.Z)({},J),{clockwise:r,end:i,start:c,type:"SEQ"}))}},t.calculateBaseLinear=function(e,n){var a=t.props.bpsPerBlock,c=e.currentTarget.getBoundingClientRect(),r=(e.clientX-c.left)/c.width,i=Math.round(r*a);return Math.min(n.start+i,n.end)},t.calculateBaseCircular=function(e){var n=t.props,a=n.center,c=n.centralIndex,r=n.seq,i=n.yDiff;if(!a)return 0;var s=e.currentTarget.getBoundingClientRect(),o=e.clientX-s.left,l=e.clientY-s.top,u=o-a.x,g=(l-(a.y+i))/u,h=Math.atan(g)*(180/Math.PI)+90;u<0&&(h+=180);var d=h/360,f=Math.round(r.length*d);return(f+=c)>r.length&&(f-=r.length),f},t.setSelection=function(e){var n=t.context,a=t.props.setSelection;if(e.start!==n.start||e.end!==n.end||e.ref!==n.ref||!["SEQ","AMINOACID",""].includes(e.type||"")){var c=(0,y.Z)({},n,e),r=c.clockwise,i=c.end,s=c.name,o=c.ref,l=c.start,u=c.type;a({clockwise:r,end:i,length:t.calcSelectionLength(l,i,r),name:s,ref:o,start:l,type:u})}},t.calcSelectionLength=function(e,n,a){var c=t.props.seq;return n<e&&!a?e-n:n>e&&!a?e+(c.length-n):n>e&&a?n-e:n<e&&a?c.length-e+n:0},t}return n.prototype.render=function(){return this.props.children(this.inputRef,this.mouseEvent,this.removeMountedBlock)},n}(g.PureComponent);Jt.displayName="WithSelectionHandler",Jt.contextType=tt;var $t=7.2,te=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(t){var a;return(0,r.Z)(this,n),(a=e.call(this,t)).shouldComponentUpdate=function(t,e){return!E(t,a.props)||!E(e,a.state)},a.setCentralIndex=function(t,e){if("LINEAR"!==t&&"CIRCULAR"!==t)throw new Error("Unknown central index type: ".concat(t));a.state.centralIndex[t.toLowerCase()]!==e&&a.setState({centralIndex:(0,b.Z)((0,y.Z)({},a.state.centralIndex),(0,w.Z)({},t.toLowerCase(),e))})},a.setSelection=function(t){t.parent,t.ref;var e=(0,S.Z)(t,["parent","ref"]);a.props.selection||a.setState({selection:t}),a.props.onSelection&&a.props.onSelection(e)},a.getSelection=function(t,e){return e?(0,b.Z)((0,y.Z)({},e),{clockwise:"undefined"===typeof e.clockwise||!!e.clockwise,type:""}):t},a.linearProps=function(){var t=a.props,e=t.seq,n=t.seqType,c=t.viewer,r=a.props.testSize||{height:a.props.height,width:a.props.width},i=a.props.zoom.linear;c.includes("both")&&(r.width/=2);var s=Math.min(Math.round(.1*i+9.5),18),o=Math.round(r.width/s*1.4)||1;"aa"===n&&(o=Math.round(o/3)),i<=5?o*=3:i<=10?o*=2:i>70&&(o=Math.round(o*(70/i))),o=Math.max(1,o),r.width&&o<e.length&&(r.width-=28);var l=r.width/o,u=1.4*s;return(0,b.Z)((0,y.Z)({},a.props),{bpsPerBlock:o,charWidth:l,elementHeight:16,lineHeight:u,seqFontSize:s,size:r,zoom:{linear:i}})},a.circularProps=function(){var t=a.props,e=t.seq.length,n=t.viewer,c=a.props.testSize||{height:a.props.height,width:a.props.width},r=a.props.zoom.circular;n.includes("both")&&(c.width/=2);var i={x:c.width/2,y:c.height/2},s=Math.min(c.height,c.width),o=e*Math.exp(Math.log(50/e)/-Math.pow(100,.83)),l=.34*s;return(0,b.Z)((0,y.Z)({},a.props),{bpsOnArc:o,center:i,radius:0===l?1:l,size:c,yDiff:0,zoom:{circular:r}})},a.state={centralIndex:{circular:0,linear:0,setCentralIndex:a.setCentralIndex},selection:a.getSelection(J,t.selection)},a}return n.prototype.render=function(){var t=this,e=this.props,n=e.selection,a=e.seq,c=e.viewer,r=this.state,i=r.centralIndex,s=r.selection,o=this.linearProps(),l=this.circularProps();return(0,u.jsx)("div",{ref:this.props.targetRef,className:"la-vz-viewer-container","data-testid":"la-vz-viewer-container",children:(0,u.jsx)(L.Provider,{value:i,children:(0,u.jsx)(tt.Provider,{value:this.getSelection(s,n),children:(0,u.jsx)(Jt,{bpsPerBlock:o.bpsPerBlock,center:l.center,centralIndex:i.circular,seq:a,setCentralIndex:this.setCentralIndex,setSelection:this.setSelection,yDiff:l.yDiff,children:function(e,n,r){return(0,u.jsxs)(it,{bpsPerBlock:o.bpsPerBlock,copyEvent:t.props.copyEvent,handleMouseEvent:n,selection:s,seq:a,setSelection:t.setSelection,children:["linear"===c&&(0,u.jsx)(_t,(0,b.Z)((0,y.Z)({},o),{handleMouseEvent:n,inputRef:e,onUnmount:r})),"circular"===c&&(0,u.jsx)(at,(0,b.Z)((0,y.Z)({},l),{handleMouseEvent:n,inputRef:e,onUnmount:r})),"both"===c&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(at,(0,b.Z)((0,y.Z)({},l),{handleMouseEvent:n,inputRef:e,onUnmount:r})),(0,u.jsx)(_t,(0,b.Z)((0,y.Z)({},o),{handleMouseEvent:n,inputRef:e,onUnmount:r}))]}),"both_flip"===c&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(_t,(0,b.Z)((0,y.Z)({},o),{handleMouseEvent:n,inputRef:e,onUnmount:r})),(0,u.jsx)(at,(0,b.Z)((0,y.Z)({},l),{handleMouseEvent:n,inputRef:e,onUnmount:r}))]})]})}})})})})},n}(g.Component),ee=(0,M.OU)(te),ne={aatii:{fcut:5,name:"AatII",rcut:1,rseq:"GACGTC"},abasi:{fcut:14,name:"AbaSI",rcut:12,rseq:"hmCNNNNNNNNNNN"},acc65i:{fcut:1,name:"Acc65I",rcut:5,rseq:"GGTACC"},acci:{fcut:2,name:"AccI",rcut:4,rseq:"GTMKAC"},acii:{fcut:1,name:"AciI",rcut:3,rseq:"CCGC"},acli:{fcut:2,name:"AclI",rcut:4,rseq:"AACGTT"},acui:{fcut:22,name:"AcuI",rcut:20,rseq:"CTGAAGNNNNNNNNNNNNNNNN"},afei:{fcut:3,name:"AfeI",rcut:3,rseq:"AGCGCT"},aflii:{fcut:1,name:"AflII",rcut:5,rseq:"CTTAAG"},afliii:{fcut:1,name:"AflIII",rcut:5,rseq:"ACRYGT"},agei:{fcut:1,name:"AgeI",rcut:5,rseq:"ACCGGT"},ahdi:{fcut:6,name:"AhdI",rcut:5,rseq:"GACNNNNNGTC"},alei:{fcut:5,name:"AleI",rcut:5,rseq:"CACNNNNGTG"},alui:{fcut:2,name:"AluI",rcut:2,rseq:"AGCT"},alwi:{fcut:9,name:"AlwI",rcut:10,rseq:"GGATCNNNNN"},alwni:{fcut:6,name:"AlwNI",rcut:3,rseq:"CAGNNNCTG"},apai:{fcut:5,name:"ApaI",rcut:1,rseq:"GGGCCC"},apali:{fcut:1,name:"ApaLI",rcut:5,rseq:"GTGCAC"},apeki:{fcut:1,name:"ApeKI",rcut:4,rseq:"GCWGC"},apoi:{fcut:1,name:"ApoI",rcut:5,rseq:"RAATTY"},asci:{fcut:2,name:"AscI",rcut:6,rseq:"GGCGCGCC"},asei:{fcut:2,name:"AseI",rcut:4,rseq:"ATTAAT"},asisi:{fcut:5,name:"AsiSI",rcut:3,rseq:"GCGATCGC"},avai:{fcut:1,name:"AvaI",rcut:5,rseq:"CYCGRG"},avaii:{fcut:1,name:"AvaII",rcut:4,rseq:"GGWCC"},avrii:{fcut:1,name:"AvrII",rcut:5,rseq:"CCTAGG"},baegi:{fcut:5,name:"BaeGI",rcut:1,rseq:"GKGCMC"},baei:{fcut:38,name:"BaeI",rcut:33,rseq:"NNNNNNNNNNNNNNNACNNNNGTAYCNNNNNNNNNNNN"},bamhi:{fcut:1,name:"BamHI",rcut:5,rseq:"GGATCC"},bani:{fcut:1,name:"BanI",rcut:5,rseq:"GGYRCC"},banii:{fcut:5,name:"BanII",rcut:1,rseq:"GRGCYC"},bbsi:{fcut:8,name:"BbsI",rcut:12,rseq:"GAAGACNNNNNN"},bbvci:{fcut:2,name:"BbvCI",rcut:5,rseq:"CCTCAGC"},bbvi:{fcut:13,name:"BbvI",rcut:17,rseq:"GCAGCNNNNNNNNNNNN"},bcci:{fcut:9,name:"BccI",rcut:10,rseq:"CCATCNNNNN"},bceai:{fcut:17,name:"BceAI",rcut:19,rseq:"ACGGCNNNNNNNNNNNNNN"},bcgi:{fcut:36,name:"BcgI",rcut:34,rseq:"NNNNNNNNNNNNCGANNNNNNTGCNNNNNNNNNNNN"},bcivi:{fcut:12,name:"BciVI",rcut:11,rseq:"GTATCCNNNNNN"},bcli:{fcut:1,name:"BclI",rcut:5,rseq:"TGATCA"},bcodi:{fcut:6,name:"BcoDI",rcut:10,rseq:"GTCTCNNNNN"},bfai:{fcut:1,name:"BfaI",rcut:3,rseq:"CTAG"},bfuai:{fcut:10,name:"BfuAI",rcut:14,rseq:"ACCTGCNNNNNNNN"},bgli:{fcut:7,name:"BglI",rcut:4,rseq:"GCCNNNNNGGC"},bglii:{fcut:1,name:"BglII",rcut:5,rseq:"AGATCT"},blpi:{fcut:2,name:"BlpI",rcut:5,rseq:"GCTNAGC"},bmgbi:{fcut:3,name:"BmgBI",rcut:3,rseq:"CACGTC"},bmri:{fcut:11,name:"BmrI",rcut:10,rseq:"ACTGGGNNNNN"},bmti:{fcut:5,name:"BmtI",rcut:1,rseq:"GCTAGC"},bpmi:{fcut:22,name:"BpmI",rcut:20,rseq:"CTGGAGNNNNNNNNNNNNNNNN"},bpu10i:{fcut:2,name:"Bpu10I",rcut:5,rseq:"CCTNAGC"},bpuei:{fcut:22,name:"BpuEI",rcut:20,rseq:"CTTGAGNNNNNNNNNNNNNNNN"},bsaai:{fcut:3,name:"BsaAI",rcut:3,rseq:"YACGTR"},bsabi:{fcut:5,name:"BsaBI",rcut:5,rseq:"GATNNNNATC"},bsahi:{fcut:2,name:"BsaHI",rcut:4,rseq:"GRCGYC"},bsai:{fcut:7,name:"BsaI",rcut:11,rseq:"GGTCTCNNNNN"},bsaji:{fcut:1,name:"BsaJI",rcut:5,rseq:"CCNNGG"},bsawi:{fcut:1,name:"BsaWI",rcut:5,rseq:"WCCGGW"},bsaxi:{fcut:33,name:"BsaXI",rcut:30,rseq:"NNNNNNNNNNNNACNNNNNCTCCNNNNNNNNNN"},bseri:{fcut:16,name:"BseRI",rcut:14,rseq:"GAGGAGNNNNNNNNNN"},bseyi:{fcut:1,name:"BseYI",rcut:5,rseq:"CCCAGC"},bsgi:{fcut:22,name:"BsgI",rcut:20,rseq:"GTGCAGNNNNNNNNNNNNNNNN"},bsiei:{fcut:4,name:"BsiEI",rcut:2,rseq:"CGRYCG"},bsihkai:{fcut:5,name:"BsiHKAI",rcut:1,rseq:"GWGCWC"},bsiwi:{fcut:1,name:"BsiWI",rcut:5,rseq:"CGTACG"},bsli:{fcut:7,name:"BslI",rcut:4,rseq:"CCNNNNNNNGG"},bsmai:{fcut:6,name:"BsmAI",rcut:10,rseq:"GTCTCNNNNN"},bsmbi:{fcut:7,name:"BsmBI",rcut:11,rseq:"CGTCTCNNNNN"},bsmfi:{fcut:15,name:"BsmFI",rcut:19,rseq:"GGGACNNNNNNNNNNNNNN"},bsmi:{fcut:7,name:"BsmI",rcut:5,rseq:"GAATGCN"},bsobi:{fcut:1,name:"BsoBI",rcut:5,rseq:"CYCGRG"},bsp1286i:{fcut:5,name:"Bsp1286I",rcut:1,rseq:"GDGCHC"},bspcni:{fcut:14,name:"BspCNI",rcut:12,rseq:"CTCAGNNNNNNNNN"},bspdi:{fcut:2,name:"BspDI",rcut:4,rseq:"ATCGAT"},bspei:{fcut:1,name:"BspEI",rcut:5,rseq:"TCCGGA"},bsphi:{fcut:1,name:"BspHI",rcut:5,rseq:"TCATGA"},bspmi:{fcut:10,name:"BspMI",rcut:14,rseq:"ACCTGCNNNNNNNN"},bspqi:{fcut:8,name:"BspQI",rcut:11,rseq:"GCTCTTCNNNN"},bsrbi:{fcut:3,name:"BsrBI",rcut:3,rseq:"CCGCTC"},bsrdi:{fcut:8,name:"BsrDI",rcut:6,rseq:"GCAATGNN"},bsrfi:{fcut:1,name:"BsrFI",rcut:5,rseq:"RCCGGY"},bsrgi:{fcut:1,name:"BsrGI",rcut:5,rseq:"TGTACA"},bsri:{fcut:6,name:"BsrI",rcut:4,rseq:"ACTGGN"},bsshii:{fcut:1,name:"BssHII",rcut:5,rseq:"GCGCGC"},bsssi:{fcut:1,name:"BssSI",rcut:5,rseq:"CACGAG"},bstapi:{fcut:7,name:"BstAPI",rcut:4,rseq:"GCANNNNNTGC"},bstbi:{fcut:2,name:"BstBI",rcut:4,rseq:"TTCGAA"},bsteii:{fcut:1,name:"BstEII",rcut:6,rseq:"GGTNACC"},bstni:{fcut:2,name:"BstNI",rcut:3,rseq:"CCWGG"},bstui:{fcut:2,name:"BstUI",rcut:2,rseq:"CGCG"},bstxi:{fcut:8,name:"BstXI",rcut:4,rseq:"CCANNNNNNTGG"},bstyi:{fcut:1,name:"BstYI",rcut:5,rseq:"RGATCY"},bstz17i:{fcut:3,name:"BstZ17I",rcut:3,rseq:"GTATAC"},bsu36i:{fcut:2,name:"Bsu36I",rcut:5,rseq:"CCTNAGG"},btgi:{fcut:1,name:"BtgI",rcut:5,rseq:"CCRYGG"},btgzi:{fcut:16,name:"BtgZI",rcut:20,rseq:"GCGATGNNNNNNNNNNNNNN"},btsci:{fcut:7,name:"BtsCI",rcut:5,rseq:"GGATGNN"},btsi:{fcut:8,name:"BtsI",rcut:6,rseq:"GCAGTGNN"},btsimuti:{fcut:7,name:"BtsIMutI",rcut:5,rseq:"CAGTGNN"},cac8i:{fcut:3,name:"Cac8I",rcut:3,rseq:"GCNNGC"},clai:{fcut:2,name:"ClaI",rcut:4,rseq:"ATCGAT"},cspci:{fcut:37,name:"CspCI",rcut:35,rseq:"NNNNNNNNNNNNNCAANNNNNGTGGNNNNNNNNNNNN"},cviaii:{fcut:1,name:"CviAII",rcut:3,rseq:"CATG"},"cviki-1":{fcut:2,name:"CviKI-1",rcut:2,rseq:"RGCY"},cviqi:{fcut:1,name:"CviQI",rcut:3,rseq:"GTAC"},ddei:{fcut:1,name:"DdeI",rcut:4,rseq:"CTNAG"},dpni:{fcut:3,name:"DpnI",rcut:3,rseq:"GmATC"},dpnii:{fcut:0,name:"DpnII",rcut:4,rseq:"GATC"},drai:{fcut:3,name:"DraI",rcut:3,rseq:"TTTAAA"},draiii:{fcut:6,name:"DraIII",rcut:3,rseq:"CACNNNGTG"},drdi:{fcut:7,name:"DrdI",rcut:5,rseq:"GACNNNNNNGTC"},eaei:{fcut:1,name:"EaeI",rcut:5,rseq:"YGGCCR"},eagi:{fcut:1,name:"EagI",rcut:5,rseq:"CGGCCG"},eari:{fcut:7,name:"EarI",rcut:10,rseq:"CTCTTCNNNN"},ecii:{fcut:17,name:"EciI",rcut:15,rseq:"GGCGGANNNNNNNNNNN"},eco53ki:{fcut:3,name:"Eco53kI",rcut:3,rseq:"GAGCTC"},econi:{fcut:5,name:"EcoNI",rcut:6,rseq:"CCTNNNNNAGG"},ecoo109i:{fcut:2,name:"EcoO109I",rcut:5,rseq:"RGGNCCY"},ecori:{fcut:1,name:"EcoRI",rcut:5,rseq:"GAATTC"},ecorv:{fcut:3,name:"EcoRV",rcut:3,rseq:"GATATC"},esp3i:{fcut:7,name:"Esp3I",rcut:11,rseq:"CGTCTCNNNNN"},fati:{fcut:0,name:"FatI",rcut:4,rseq:"CATG"},faui:{fcut:9,name:"FauI",rcut:11,rseq:"CCCGCNNNNNN"},fnu4hi:{fcut:2,name:"Fnu4HI",rcut:3,rseq:"GCNGC"},foki:{fcut:14,name:"FokI",rcut:18,rseq:"GGATGNNNNNNNNNNNNN"},fsei:{fcut:6,name:"FseI",rcut:2,rseq:"GGCCGGCC"},fspei:{fcut:15,name:"FspEI",rcut:19,rseq:"CmCNNNNNNNNNNNNNNNN"},fspi:{fcut:3,name:"FspI",rcut:3,rseq:"TGCGCA"},haeii:{fcut:5,name:"HaeII",rcut:1,rseq:"RGCGCY"},haeiii:{fcut:2,name:"HaeIII",rcut:2,rseq:"GGCC"},hgai:{fcut:10,name:"HgaI",rcut:15,rseq:"GACGCNNNNNNNNNN"},hhai:{fcut:3,name:"HhaI",rcut:1,rseq:"GCGC"},hincii:{fcut:3,name:"HincII",rcut:3,rseq:"GTYRAC"},hindiii:{fcut:1,name:"HindIII",rcut:5,rseq:"AAGCTT"},hinfi:{fcut:1,name:"HinfI",rcut:4,rseq:"GANTC"},hinp1i:{fcut:1,name:"HinP1I",rcut:3,rseq:"GCGC"},hpai:{fcut:3,name:"HpaI",rcut:3,rseq:"GTTAAC"},hpaii:{fcut:1,name:"HpaII",rcut:3,rseq:"CCGG"},hphi:{fcut:13,name:"HphI",rcut:12,rseq:"GGTGANNNNNNNN"},hpy166ii:{fcut:3,name:"Hpy166II",rcut:3,rseq:"GTNNAC"},hpy188i:{fcut:3,name:"Hpy188I",rcut:2,rseq:"TCNGA"},hpy188iii:{fcut:2,name:"Hpy188III",rcut:4,rseq:"TCNNGA"},hpy99i:{fcut:5,name:"Hpy99I",rcut:0,rseq:"CGWCG"},hpyav:{fcut:11,name:"HpyAV",rcut:10,rseq:"CCTTCNNNNNN"},hpych4iii:{fcut:3,name:"HpyCH4III",rcut:2,rseq:"ACNGT"},hpych4iv:{fcut:1,name:"HpyCH4IV",rcut:3,rseq:"ACGT"},hpych4v:{fcut:2,name:"HpyCH4V",rcut:2,rseq:"TGCA"},"i-ceui":{fcut:18,name:"I-CeuI",rcut:14,rseq:"TAACTATAACGGTCCTAAGGTAGCGAA"},"i-scei":{fcut:9,name:"I-SceI",rcut:5,rseq:"TAGGGATAACAGGGTAAT"},kasi:{fcut:1,name:"KasI",rcut:5,rseq:"GGCGCC"},kpni:{fcut:5,name:"KpnI",rcut:1,rseq:"GGTACC"},lpnpi:{fcut:15,name:"LpnPI",rcut:19,rseq:"CmCDGNNNNNNNNNNNNNN"},mboi:{fcut:0,name:"MboI",rcut:4,rseq:"GATC"},mboii:{fcut:13,name:"MboII",rcut:12,rseq:"GAAGANNNNNNNN"},mfei:{fcut:1,name:"MfeI",rcut:5,rseq:"CAATTG"},mluci:{fcut:0,name:"MluCI",rcut:4,rseq:"AATT"},mlui:{fcut:1,name:"MluI",rcut:5,rseq:"ACGCGT"},mlyi:{fcut:10,name:"MlyI",rcut:10,rseq:"GAGTCNNNNN"},mmei:{fcut:26,name:"MmeI",rcut:24,rseq:"TCCRACNNNNNNNNNNNNNNNNNNNN"},mnli:{fcut:11,name:"MnlI",rcut:10,rseq:"CCTCNNNNNNN"},msci:{fcut:3,name:"MscI",rcut:3,rseq:"TGGCCA"},msei:{fcut:1,name:"MseI",rcut:3,rseq:"TTAA"},msli:{fcut:5,name:"MslI",rcut:5,rseq:"CAYNNNNRTG"},mspa1i:{fcut:3,name:"MspA1I",rcut:3,rseq:"CMGCKG"},mspi:{fcut:1,name:"MspI",rcut:3,rseq:"CCGG"},mspji:{fcut:14,name:"MspJI",rcut:18,rseq:"mCNNRNNNNNNNNNNNNN"},mwoi:{fcut:7,name:"MwoI",rcut:4,rseq:"GCNNNNNNNGC"},naei:{fcut:3,name:"NaeI",rcut:3,rseq:"GCCGGC"},nari:{fcut:2,name:"NarI",rcut:4,rseq:"GGCGCC"},ncii:{fcut:2,name:"NciI",rcut:3,rseq:"CCSGG"},ncoi:{fcut:1,name:"NcoI",rcut:5,rseq:"CCATGG"},ndei:{fcut:2,name:"NdeI",rcut:4,rseq:"CATATG"},ngomiv:{fcut:1,name:"NgoMIV",rcut:5,rseq:"GCCGGC"},nhei:{fcut:1,name:"NheI",rcut:5,rseq:"GCTAGC"},nlaiii:{fcut:4,name:"NlaIII",rcut:0,rseq:"CATG"},nlaiv:{fcut:3,name:"NlaIV",rcut:3,rseq:"GGNNCC"},nmeaiii:{fcut:26,name:"NmeAIII",rcut:25,rseq:"GCCGAGNNNNNNNNNNNNNNNNNNNN"},noti:{fcut:2,name:"NotI",rcut:6,rseq:"GCGGCCGC"},nrui:{fcut:3,name:"NruI",rcut:3,rseq:"TCGCGA"},nsii:{fcut:5,name:"NsiI",rcut:1,rseq:"ATGCAT"},nspi:{fcut:5,name:"NspI",rcut:1,rseq:"RCATGY"},paci:{fcut:5,name:"PacI",rcut:3,rseq:"TTAATTAA"},paer7i:{fcut:1,name:"PaeR7I",rcut:5,rseq:"CTCGAG"},pcii:{fcut:1,name:"PciI",rcut:5,rseq:"ACATGT"},pflfi:{fcut:4,name:"PflFI",rcut:5,rseq:"GACNNNGTC"},pflmi:{fcut:7,name:"PflMI",rcut:4,rseq:"CCANNNNNTGG"},"pi-pspi":{fcut:17,name:"PI-PspI",rcut:13,rseq:"TGGCAAACAGCTATTATGGGTATTATGGGT"},"pi-scei":{fcut:15,name:"PI-SceI",rcut:11,rseq:"ATCTATGTCGGGTGCGGAGAAAGAGGTAATGAAATGG"},plei:{fcut:9,name:"PleI",rcut:10,rseq:"GAGTCNNNNN"},pluti:{fcut:5,name:"PluTI",rcut:1,rseq:"GGCGCC"},pmei:{fcut:4,name:"PmeI",rcut:4,rseq:"GTTTAAAC"},pmli:{fcut:3,name:"PmlI",rcut:3,rseq:"CACGTG"},ppumi:{fcut:2,name:"PpuMI",rcut:5,rseq:"RGGWCCY"},pshai:{fcut:5,name:"PshAI",rcut:5,rseq:"GACNNNNGTC"},psii:{fcut:3,name:"PsiI",rcut:3,rseq:"TTATAA"},pspgi:{fcut:0,name:"PspGI",rcut:5,rseq:"CCWGG"},pspomi:{fcut:1,name:"PspOMI",rcut:5,rseq:"GGGCCC"},pspxi:{fcut:2,name:"PspXI",rcut:6,rseq:"VCTCGAGB"},psti:{fcut:5,name:"PstI",rcut:1,rseq:"CTGCAG"},pvui:{fcut:4,name:"PvuI",rcut:2,rseq:"CGATCG"},pvuii:{fcut:3,name:"PvuII",rcut:3,rseq:"CAGCTG"},rsai:{fcut:2,name:"RsaI",rcut:2,rseq:"GTAC"},rsrii:{fcut:2,name:"RsrII",rcut:5,rseq:"CGGWCCG"},saci:{fcut:5,name:"SacI",rcut:1,rseq:"GAGCTC"},sacii:{fcut:4,name:"SacII",rcut:2,rseq:"CCGCGG"},sali:{fcut:1,name:"SalI",rcut:5,rseq:"GTCGAC"},sapi:{fcut:8,name:"SapI",rcut:11,rseq:"GCTCTTCNNNN"},sau3ai:{fcut:0,name:"Sau3AI",rcut:4,rseq:"GATC"},sau96i:{fcut:1,name:"Sau96I",rcut:4,rseq:"GGNCC"},sbfi:{fcut:6,name:"SbfI",rcut:2,rseq:"CCTGCAGG"},scai:{fcut:3,name:"ScaI",rcut:3,rseq:"AGTACT"},scrfi:{fcut:2,name:"ScrFI",rcut:3,rseq:"CCNGG"},sexai:{fcut:1,name:"SexAI",rcut:6,rseq:"ACCWGGT"},sfani:{fcut:10,name:"SfaNI",rcut:14,rseq:"GCATCNNNNNNNNN"},sfci:{fcut:1,name:"SfcI",rcut:5,rseq:"CTRYAG"},sfii:{fcut:8,name:"SfiI",rcut:5,rseq:"GGCCNNNNNGGCC"},sfoi:{fcut:3,name:"SfoI",rcut:3,rseq:"GGCGCC"},sgrai:{fcut:2,name:"SgrAI",rcut:6,rseq:"CRCCGGYG"},smai:{fcut:3,name:"SmaI",rcut:3,rseq:"CCCGGG"},smli:{fcut:1,name:"SmlI",rcut:5,rseq:"CTYRAG"},snabi:{fcut:3,name:"SnaBI",rcut:3,rseq:"TACGTA"},spei:{fcut:1,name:"SpeI",rcut:5,rseq:"ACTAGT"},sphi:{fcut:5,name:"SphI",rcut:1,rseq:"GCATGC"},srfi:{fcut:4,name:"SrfI",rcut:4,rseq:"GCCCGGGC"},sspi:{fcut:3,name:"SspI",rcut:3,rseq:"AATATT"},stui:{fcut:3,name:"StuI",rcut:3,rseq:"AGGCCT"},styd4i:{fcut:0,name:"StyD4I",rcut:5,rseq:"CCNGG"},styi:{fcut:1,name:"StyI",rcut:5,rseq:"CCWWGG"},swai:{fcut:4,name:"SwaI",rcut:4,rseq:"ATTTAAAT"},taqi:{fcut:1,name:"TaqI",rcut:3,rseq:"TCGA"},tfii:{fcut:1,name:"TfiI",rcut:4,rseq:"GAWTC"},tsei:{fcut:1,name:"TseI",rcut:4,rseq:"GCWGC"},tsp45i:{fcut:0,name:"Tsp45I",rcut:5,rseq:"GTSAC"},tspmi:{fcut:1,name:"TspMI",rcut:5,rseq:"CCCGGG"},tspri:{fcut:9,name:"TspRI",rcut:0,rseq:"NNCASTGNN"},tth111i:{fcut:4,name:"Tth111I",rcut:5,rseq:"GACNNNGTC"},xbai:{fcut:1,name:"XbaI",rcut:5,rseq:"TCTAGA"},xcmi:{fcut:8,name:"XcmI",rcut:7,rseq:"CCANNNNNNNNNTGG"},xhoi:{fcut:1,name:"XhoI",rcut:5,rseq:"CTCGAG"},xmai:{fcut:1,name:"XmaI",rcut:5,rseq:"CCCGGG"},xmni:{fcut:5,name:"XmnI",rcut:5,rseq:"GAANNNNTTC"},zrai:{fcut:3,name:"ZraI",rcut:3,rseq:"GACGTC"}};var ae=function(t,e,n,a,c){if(n>0)return ce(t,e,n,a,c);for(var r=e.length,i=re(t,c),s=i.exec(e),o=[];s;){var l=s.index%r,u=(l+t.length)%r||r;o.push({direction:a?1:-1,end:u,id:"".concat(l,"-").concat(a?"fwd":"rev"),name:"",start:l}),s=i.exec(e)}return o},ce=function(t,e,n,a,c){for(var r=ft(c),i=[],s=0;s<e.length-t.length;s+=1){for(var o=0,l=0;l<t.length;l+=1){var u=e[s+l].toLowerCase(),g=t[l].toLowerCase();if(st[g]?u!==g&&(o+=1):r[g]&&(r[g][u]||(o+=1)),o>n)break}if(o<=n){var h=(s+t.length)%e.length||e.length;i.push({direction:a?1:-1,end:h,id:"".concat(s,"-").concat(a?"fwd":"rev"),name:"",start:s})}}return i},re=function(t,e){var n=ft(e),a=t.toLowerCase().split("").map((function(t){return n[t]?"(".concat(Object.keys(n[t]).join("|"),")"):t})).join("");return new RegExp(a.trim(),"gi")};function ie(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=t+t,r=n.map((function(t){return"string"===typeof t?ne[t.toLowerCase()]:t})).filter((function(t){return t})).concat(Object.values(a)).reduce((function(n,a){return se(a,c,e,t.length).forEach((function(t){return n["".concat(t.fcut,"-").concat(t.direction)]=t})),n}),{});return Object.values(r)}var se=function(t,e,n,a){if("aa"===n)return[];for(var c=t.fcut,r=t.rcut,i=t.rseq,s=[],o=re(i,n),l=o.exec(e);l;){var u=l.index;s.push({direction:1,end:u+i.length,enzyme:t,fcut:u+c,id:"",name:t.name,rcut:u+r,start:u}),l=o.exec(e)}var g=i===xt(i,n),h=re(xt(i,n),n);for(l=h.exec(e);l&&!g;){var d=l.index;s.push({direction:-1,end:d+i.length,enzyme:t,fcut:d+i.length-r,id:"",name:t.name,rcut:d+i.length-c,start:d}),l=h.exec(e)}return s.sort((function(t,e){return t.fcut-e.fcut})).filter((function(t){return!(0===t.fcut&&0===t.rcut)})).map((function(e){return(0,b.Z)((0,y.Z)({},e),{end:e.end%a,fcut:e.fcut%a,id:"".concat(t.name,"-").concat(t.rseq,"-").concat(e.fcut,"-").concat(e.direction>0?"fwd":"rev"),rcut:e.rcut%a,start:e.start%a})})).filter((function(t){return!t.enzyme.range||t.start>=t.enzyme.range.start&&t.end<=t.enzyme.range.end}))},oe=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(t){var a;(0,r.Z)(this,n),(a=e.call(this,t)).componentDidUpdate=function(t,e){var n=t.accession,c=void 0===n?"":n,r=t.annotations,i=t.enzymes,s=t.enzymesCustom,o=t.file,l=t.search,u=e.seq,g=e.seqType;if(c!==a.props.accession||o!==a.props.file||a.props.seq&&a.props.seq!==u){var h=a.parseInput();a.setState((0,y.Z)({annotations:h.annotations,compSeq:h.compSeq,name:h.name,seq:h.seq,seqType:h.seqType},a.search(a.props,h.seq),a.cut(h.seq,h.seqType)))}else!l||a.props.search&&l.query===a.props.search.query&&l.mismatch===a.props.search.mismatch||a.setState(a.search(a.props,u)),E(i,a.props.enzymes)&&E(s,a.props.enzymesCustom)||a.setState(a.cut(u,g)),E(r,a.props.annotations)||a.setState({annotations:a.parseAnnotations(a.props.annotations,a.props.seq)})},a.parseInput=function(t){var e=t||a.props,n=e.annotations,c=e.compSeq,r=e.file,i=e.name,s=void 0===i?"":i,o=e.seq;if(r){var l={};r&&(0,q.Z)(r,File)&&(l.fileName=r.name);var u=(0,I.parseFile)(r.toString(),l);if(u.length){var g=mt(u[0].seq);return{annotations:a.parseAnnotations(u[0].annotations,u[0].seq),compSeq:At(u[0].seq,g).compSeq,name:u[0].name,seq:u[0].seq,seqType:g}}}else if(o){var h=mt(o);return{annotations:a.parseAnnotations(n,o),compSeq:c||At(o,h).compSeq,name:s,seq:o,seqType:h}}return{annotations:[],compSeq:"",name:"",seq:"",seqType:"dna"}},a.search=function(t,e){var n=t.onSearch,c=t.search,r=t.seqType;if(!c||!e||!e.length)return{search:[]};var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0;if(!t||!t.length||!n||!n.length)return[];if(t.length-e<2)return[];var c=ae(t,n,e,!0,a);if(["dna","rna"].includes(a)){var r,i=At(n,a).compSeq,o=ae(Nt(t),i,e,!1,a);(r=c).push.apply(r,(0,s.Z)(o))}return c.length>4e3?(console.error("Search too broad: >4000 matches. Please narrow parameters."),[]):c.sort((function(t,e){return t.start-e.start}))}(c.query,c.mismatch,e,r||mt(e));return a.state&&E(i,a.state.search)?{search:a.state.search}:(n&&n(i),{search:i})},a.cut=function(t,e){return{cutSites:ie(t||"",e,a.props.enzymes||[],a.props.enzymesCustom||{})}},a.parseAnnotations=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t||[]).map((function(t,n){return(0,b.Z)((0,y.Z)({id:bt()},t),{color:t.color||H(n,k),direction:Tt(t.direction),end:t.end%(e.length+1),start:t.start%(e.length+1)})}))};var c=a.parseInput(t);return a.state=(0,y.Z)({},c,a.search(t,c.seq),a.cut(c.seq,c.seqType)),a}var a=n.prototype;return a.componentDidMount=function(){var t=this,e=this.props.accession;e&&e.length&&T()(e,{cors:!0}).then((function(e){var n=mt(e.seq);t.setState((0,y.Z)({annotations:t.parseAnnotations(e.annotations,e.seq),compSeq:At(e.seq,n).compSeq,name:e.name,seq:e.seq,seqType:n},t.search(t.props,e.seq),t.cut(e.seq,n)))}))},a.componentDidCatch=function(t,e){console.error("Error caught in SeqViz: %v %v",t,e)},a.render=function(){var t=this.props,e=t.highlightedRegions,n=t.highlights,a=t.showComplement,c=t.showIndex,r=t.style,i=t.zoom,s=this.props.translations,o=this.state,l=o.compSeq,g=o.seq,h=o.seqType;if(!g)return(0,u.jsx)("div",{className:"la-vz-seqviz"});"aa"===h&&(s=[{direction:1,end:g.length,start:0}]);var d={bpColors:this.props.bpColors||{},copyEvent:this.props.copyEvent||function(){return!1},cutSites:this.state.cutSites,highlights:(n||[]).concat(e||[]).map((function(t,e){return(0,b.Z)((0,y.Z)({},t),{direction:1,end:t.end%(g.length+1),id:"highlight-".concat(e,"-").concat(t.start,"-").concat(t.end),name:"",start:t.start%(g.length+1)})})),onSelection:this.props.onSelection||function(){},rotateOnScroll:!!this.props.rotateOnScroll,showComplement:!!l&&("undefined"===typeof a||a)||!1,showIndex:!!c,translations:(s||[]).map((function(t){return{direction:t.direction&&t.direction<0?-1:1,end:t.start+3*Math.floor((t.end-t.start)/3),start:t.start%g.length}})),viewer:this.props.viewer||"both",zoom:{circular:"number"==typeof(null===i||void 0===i?void 0:i.circular)?Math.min(Math.max(i.circular,0),100):0,linear:"number"==typeof(null===i||void 0===i?void 0:i.linear)?Math.min(Math.max(i.linear,0),100):50}};return(0,u.jsx)("div",{className:"la-vz-seqviz","data-testid":"la-vz-seqviz",style:r,children:(0,u.jsx)(ee,(0,y.Z)({},this.props,d,this.state))})},n}(g.Component);oe.defaultProps={accession:"",annotations:[],backbone:"",bpColors:{},colors:[],compSeq:"",copyEvent:function(t){return"c"===t.key&&(t.metaKey||t.ctrlKey)},enzymes:[],enzymesCustom:{},name:"",onSearch:function(t){return null},onSelection:function(t){return null},rotateOnScroll:!0,search:{mismatch:0,query:""},seq:"",showComplement:!0,showIndex:!0,style:{},translations:[],viewer:"both",zoom:{circular:0,linear:50}};var le=n(3589),ue=function(t){var e=t.selection,n=t.showSelectionMeta,a=t.toggleShowSelectionMeta,c=t.toggleSidebar;return(0,u.jsxs)("div",{className:"header",id:"app-header",children:[(0,u.jsxs)("div",{id:"header-primary",children:[(0,u.jsx)(le.Z,{className:"popup-tooltip",content:"Options",inverted:!0,position:"bottom left",trigger:(0,u.jsx)(v.Z,{circular:!0,className:"circular-button",icon:"bars",id:"sidebar-toggle-open",onClick:c})}),(0,u.jsx)(ge,{showSelectionMeta:n,toggleShowSelectionMeta:a}),(0,u.jsx)("a",{href:"https://github.com/Lattice-Automation/seqviz",id:"github-link",rel:"noopener noreferrer",target:"_blank",children:(0,u.jsx)(G.Z,{name:"github",size:"large"})}),(0,u.jsx)(A.Z,{floated:"right",id:"brand",src:"https://tools.latticeautomation.com/seqviz/seqviz-logo.png"})]}),n&&(0,u.jsx)("div",{id:"header-meta",children:(0,u.jsx)(he,{selection:e})})]})},ge=function(t){var e=t.showSelectionMeta,n=t.toggleShowSelectionMeta;return(0,u.jsx)("div",{className:"meta-toggle",children:(0,u.jsx)(v.Z,{active:!e,id:"meta-button",toggle:!0,onClick:n,children:e?"HIDE META":"SHOW META"})})},he=function(t){var e=t.selection,n=e.end,a=e.feature,c=e.length,r=e.start,i=r===n;return e&&(0,u.jsxs)("div",{className:"selection-meta",children:[i&&(0,u.jsx)("div",{className:"meta-datum",id:"no-selection",children:(0,u.jsx)("p",{children:"Make a selection on the circular or linear viewer."})}),a&&(0,u.jsxs)("div",{className:"meta-datum",id:"feature-name",children:[(0,u.jsx)("p",{id:"field",children:"FEATURE"}),(0,u.jsx)("p",{id:"value",children:a?a.name:""})]}),a&&a.type&&(0,u.jsxs)("div",{className:"meta-datum",id:"feature-type",children:[(0,u.jsx)("p",{id:"field",children:"TYPE"}),(0,u.jsx)("p",{id:"value",children:a.type})]}),0!==c&&(0,u.jsxs)("div",{className:"meta-datum",children:[(0,u.jsx)("p",{id:"field",children:"LENGTH"}),(0,u.jsxs)("p",{id:"value",children:[c,"bp"]})]}),r!==n&&(0,u.jsxs)("div",{className:"meta-datum",children:[(0,u.jsx)("p",{id:"field",children:"RANGE"}),(0,u.jsxs)("p",{id:"value",children:[r," - ",n]})]})]})},de='LOCUS       MN623123                3744 bp    DNA     circular SYN 16-MAY-2020\nDEFINITION  Cloning vector p15A-HNS-GFP, complete sequence.\nACCESSION   MN623123\nVERSION     MN623123.1\nKEYWORDS    .\nSOURCE      Cloning vector p15A-HNS-GFP\n  ORGANISM  Cloning vector p15A-HNS-GFP\n            other sequences; artificial sequences; vectors.\nREFERENCE   1  (bases 1 to 3744)\n  AUTHORS   Guo,L.\n  TITLE     Direct Submission\n  JOURNAL   Submitted (28-OCT-2019) Jiangnan University, State Key Laboratory\n            of Food Science and Technology, 1800 Lihu Avenue, Wuxi, Jiangsu\n            214122, China\nFEATURES             Location/Qualifiers\n     source          1..3744\n                     /organism="Cloning vector p15A-HNS-GFP"\n                     /mol_type="other DNA"\n                     /db_xref="taxon:2735146"\n     CDS             complement(7..630)\n                     /gene="tetR"\n                     /codon_start=1\n                     /transl_table=11\n                     /product="tetracycline repressor"\n                     /protein_id="QJR97839.1"\n                     /translation="MSRLDKSKVINSALELLNEVGIEGLTTRKLAQKLGVEQPTLYWH\n                     VKNKRALLDALAIEMLDRHHTHFCPLEGESWQDFLRNNAKSFRCALLSHRDGAKVHLG\n                     TRPTEKQYETLENQLAFLCQQGFSLENALYALSAVGHFTLGCVLEDQEHQVAKEERET\n                     PTTDSMPPLLRQAIELFDHQGAEPAFLFGLELIICGLEKQLKCESGS"\n     regulatory      634..706\n                     /regulatory_class="promoter"\n                     /note="pLtetO-1 promoter"\n     CDS             737..>1147\n                     /gene="hns"\n                     /note="HNS"\n                     /codon_start=1\n                     /transl_table=11\n                     /product="histone-like nucleoid structuring protein"\n                     /protein_id="QJR97840.1"\n                     /translation="MSEALKILNNIRTLRAQARECTLETLEEMLEKLEVVVNERREEE\n                     SAAAAEVEERTRKLQQYREMLIADGIDPNELLNSLAAVKSGTKAKRAQRPAKYSYVDE\n                     NGETKTWTGQGRTPAVIKKAMDEQGKSLDDFLIKQ"\n     CDS             1166..1885\n                     /gene="GFP"\n                     /note="GFP"\n                     /codon_start=1\n                     /transl_table=11\n                     /product="Green fluorescent protein"\n                     /protein_id="QJR97841.1"\n                     /translation="MVSKGEELFTGVVPILVELDGDVNGHKFSVSGEGEGDATYGKLT\n                     LKFICTTGKLPVPWPTLVTTLTYGVQCFSRYPDHMKQHDFFKSAMPEGYVQERTIFFK\n                     DDGNYKTRAEVKFEGDTLVNRIELKGIDFKEDGNILGHKLEYNYNSHNVYIMADKQKN\n                     GIKVNFKIRHNIEDGSVQLADHYQQNTPIGDGPVLLPDNHYLSTQSALSKDPNEKRDH\n                     MVLLEFVTAAGITLGMDELYK"\n     regulatory      1909..1954\n                     /regulatory_class="terminator"\n                     /note="rrnB T1 terminator"\n     CDS             complement(2959..3618)\n                     /gene="cat"\n                     /codon_start=1\n                     /transl_table=11\n                     /product="chloramphenicol acetyltransferase"\n                     /protein_id="QJR97842.1"\n                     /translation="MEKKITGYTTVDISQWHRKEHFEAFQSVAQCTYNQTVQLDITAF\n                     LKTVKKNKHKFYPAFIHILARLMNAHPEFRMAMKDGELVIWDSVHPCYTVFHEQTETF\n                     SSLWSEYHDDFRQFLHIYSQDVACYGENLAYFPKGFIENMFFVSANPWVSFTSFDLNV\n                     ANMDNFFAPVFTMGKYYTQGDKVLMPLAIQVHHAVCDGFHVGRMLNELQQYCDEWQGG\n                     A"\nORIGIN      \n        1 aatttcttaa gacccacttt cacatttaag ttgtttttct aatccgcata tgatcaattc\n       61 aaggccgaat aagaaggctg gctctgcacc ttggtgatca aataattcga tagcttgtcg\n      121 taataatggc ggcatactat cagtagtagg tgtttccctt tcttctttag cgacttgatg\n      181 ctcttgatct tccaatacgc aacctaaagt aaaatgcccc acagcgctga gtgcatataa\n      241 tgcattctct agtgaaaaac cttgttggca taaaaaggct aattgatttt cgagagtttc\n      301 atactgtttt tctgtaggcc gtgtacctaa atgtactttt gctccatcgc gatgacttag\n      361 taaagcacat ctaaaacttt tagcgttatt acgtaaaaaa tcttgccagc tttccccttc\n      421 taaagggcaa aagtgagtat ggtgcctatc taacatctca atggctaagg cgtcgagcaa\n      481 agcccgctta ttttttacat gccaatacaa tgtaggctgc tctacaccta gcttctgggc\n      541 gagtttacgg gttgttaaac cttcgattcc gacctcatta agcagctcta atgcgctgtt\n      601 aatcacttta cttttatcta atctagacat cattaattcc taatttttgt tgacactcta\n      661 tcgttgatag agttatttta ccactcccta tcagtgatag agaaaagaat tcgtcgacaa\n      721 agaggagaaa gatatcatga gcgaagcact taaaattctg aacaacatcc gtactcttcg\n      781 tgcgcaggca agagaatgta cacttgaaac gctggaagaa atgctggaaa aattagaagt\n      841 tgttgttaac gaacgtcgcg aagaagaaag cgcggctgct gctgaagttg aagagcgcac\n      901 tcgtaaactg cagcaatatc gcgaaatgct gatcgctgac ggtattgacc cgaacgaact\n      961 gctgaatagc cttgctgccg ttaaatctgg caccaaagct aaacgtgctc agcgtccggc\n     1021 aaaatatagc tacgttgacg aaaacggcga aactaaaacc tggactggcc aaggccgtac\n     1081 tccagctgta atcaaaaaag caatggatga gcaaggtaaa tccctcgacg atttcctgat\n     1141 caagcaaact agtagatctg gtaccatggt gagcaagggc gaggagctgt tcaccggggt\n     1201 ggtgcccatc ctggtcgagc tggacggcga cgtaaacggc cacaagttca gcgtgtccgg\n     1261 cgagggcgag ggcgatgcca cctacggcaa gctgaccctg aagttcatct gcaccaccgg\n     1321 caagctgccc gtgccctggc ccaccctcgt gaccaccctg acctacggcg tgcagtgctt\n     1381 cagccgctac cccgaccaca tgaagcagca cgacttcttc aagtccgcca tgcccgaagg\n     1441 ctacgtccag gagcgcacca tcttcttcaa ggacgacggc aactacaaga cccgcgccga\n     1501 ggtgaagttc gagggcgaca ccctggtgaa ccgcatcgag ctgaagggca tcgacttcaa\n     1561 ggaggacggc aacatcctgg ggcacaagct ggagtacaac tacaacagcc acaacgtcta\n     1621 tatcatggcc gacaagcaga agaacggcat caaggtgaac ttcaagatcc gccacaacat\n     1681 cgaggacggc agcgtgcagc tcgccgacca ctaccagcag aacaccccca tcggcgacgg\n     1741 ccccgtgctg ctgcccgaca accactacct gagcacccag tccgccctga gcaaagaccc\n     1801 caacgagaag cgcgatcaca tggtcctgct ggagttcgtg accgccgccg ggatcactct\n     1861 cggcatggac gagctgtaca agtaactcga gtaaggatct ccaggcatca aataaaacga\n     1921 aaggctcagt cgaaagactg ggcctttcgt tttatctgtt gtttgtcggt gaacgctctc\n     1981 tactagagtc acactggctc accttcgggt gggcctttct gcgtttatac ctagggatat\n     2041 attccgcttc ctcgctcact gactcgctac gctcggtcgt tcgactgcgg cgagcggaaa\n     2101 tggcttacga acggggcgga gatttcctgg aagatgccag gaagatactt aacagggaag\n     2161 tgagagggcc gcggcaaagc cgtttttcca taggctccgc ccccctgaca agcatcacga\n     2221 aatctgacgc tcaaatcagt ggtggcgaaa cccgacagga ctataaagat accaggcgtt\n     2281 tccccctggc ggctccctcg tgcgctctcc tgttcctgcc tttcggttta ccggtgtcat\n     2341 tccgctgtta tggccgcgtt tgtctcattc cacgcctgac actcagttcc gggtaggcag\n     2401 ttcgctccaa gctggactgt atgcacgaac cccccgttca gtccgaccgc tgcgccttat\n     2461 ccggtaacta tcgtcttgag tccaacccgg aaagacatgc aaaagcacca ctggcagcag\n     2521 ccactggtaa ttgatttaga ggagttagtc ttgaagtcat gcgccggtta aggctaaact\n     2581 gaaaggacaa gttttggtga ctgcgctcct ccaagccagt tacctcggtt caaagagttg\n     2641 gtagctcaga gaaccttcga aaaaccgccc tgcaaggcgg ttttttcgtt ttcagagcaa\n     2701 gagattacgc gcagaccaaa acgatctcaa gaagatcatc ttattaatca gataaaatat\n     2761 ttctagattt cagtgcaatt tatctcttca aatgtagcac ctgaagtcag ccccatacga\n     2821 tataagttgt tactagtgct tggattctca ccaataaaaa acgcccggcg gcaaccgagc\n     2881 gttctgaaca aatccagatg gagttctgag gtcattactg gatctatcaa caggagtcca\n     2941 agcgagctcg atatcaaatt acgccccgcc ctgccactca tcgcagtact gttgtaattc\n     3001 attaagcatt ctgccgacat ggaagccatc acaaacggca tgatgaacct gaatcgccag\n     3061 cggcatcagc accttgtcgc cttgcgtata atatttgccc atggtgaaaa cgggggcgaa\n     3121 gaagttgtcc atattggcca cgtttaaatc aaaactggtg aaactcaccc agggattggc\n     3181 tgagacgaaa aacatattct caataaaccc tttagggaaa taggccaggt tttcaccgta\n     3241 acacgccaca tcttgcgaat atatgtgtag aaactgccgg aaatcgtcgt ggtattcact\n     3301 ccagagcgat gaaaacgttt cagtttgctc atggaaaacg gtgtaacaag ggtgaacact\n     3361 atcccatatc accagctcac cgtctttcat tgccatacga aattccggat gagcattcat\n     3421 caggcgggca agaatgtgaa taaaggccgg ataaaacttg tgcttatttt tctttacggt\n     3481 ctttaaaaag gccgtaatat ccagctgaac ggtctggtta taggtacatt gagcaactga\n     3541 ctgaaatgcc tcaaaatgtt ctttacgatg ccattgggat atatcaacgg tggtatatcc\n     3601 agtgattttt ttctccattt tagcttcctt agctcctgaa aatctcgata actcaaaaaa\n     3661 tacgcccggt agtgatctta tttcattatg gtgaaagttg gaacctctta cgtgccgatc\n     3721 aacgtctcat tttcgccaga tatc\n//',fe=[{key:"both",text:"Both",value:"both"},{key:"circular",text:"Circular",value:"circular"},{key:"linear",text:"Linear",value:"linear"}],pe=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;(0,r.Z)(this,n),(t=e.apply(this,arguments)).state={annotations:[],enzymes:["PstI","EcoRI","XbaI","SpeI"],name:"",primers:!0,search:{query:"ttnnnaat"},searchResults:{},selection:{},seq:"",showComplement:!0,showIndex:!0,showSelectionMeta:!1,showSidebar:!1,translations:[{end:630,start:6,direction:-1},{end:1147,start:736},{end:1885,start:1165}],viewer:"",zoom:50};var i=(0,a.Z)(t);return t.componentDidMount=(0,c.Z)((function(){var t;return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return[4,T()(de)];case 1:return t=e.sent(),i.setState({annotations:t.annotations,name:t.name,seq:t.seq}),[2]}}))})),t.toggleSidebar=function(){var e=t.state.showSidebar;t.setState({showSidebar:!e})},t.toggleShowSelectionMeta=function(){var e=t.state.showSelectionMeta;t.setState({showSelectionMeta:!e})},t.handleHide=function(){t.setState({showSidebar:!1})},t.toggleEnzyme=function(e){var n=t.state.enzymes;n.includes(e)?t.setState({enzymes:n.filter((function(t){return t!==e}))}):t.setState({enzymes:(0,s.Z)(n).concat([e])})},t}return n.prototype.render=function(){var t=this;return(0,u.jsx)("div",{style:{height:"100vh"},children:(0,u.jsxs)(h.Z.Pushable,{className:"sidebar-container",children:[(0,u.jsxs)(h.Z,{animation:"overlay",as:d.Z,id:"options-sidebar",stylename:"sidebar-container",vertical:!0,visible:this.state.showSidebar,onHide:this.handleHide,children:[(0,u.jsx)(xe,{toggleSidebar:this.toggleSidebar}),(0,u.jsx)(d.Z.Item,{as:"a",children:(0,u.jsx)(me,{setType:function(e){t.setState({viewer:e})}})}),(0,u.jsx)(d.Z.Item,{as:"a",children:(0,u.jsx)(Ne,{setZoom:function(e){return t.setState({zoom:e})}})}),(0,u.jsx)(d.Z.Item,{as:"a",children:(0,u.jsx)(Ce,{setQuery:function(e){return t.setState({search:{query:e}})}})}),(0,u.jsx)(d.Z.Item,{as:"a",className:"options-checkbox",children:(0,u.jsx)(ve,{label:"Show complement",name:"showComplement",set:function(e){return t.setState({showComplement:e})}})}),(0,u.jsx)(d.Z.Item,{as:"a",className:"options-checkbox",children:(0,u.jsx)(ve,{label:"Show index",name:"index",set:function(e){return t.setState({showIndex:e})}})}),(0,u.jsx)(d.Z.Item,{as:"a",children:(0,u.jsx)(Ae,{enzymes:this.state.enzymes,toggleEnzyme:this.toggleEnzyme})}),(0,u.jsx)(Ge,{})]}),(0,u.jsx)(h.Z.Pusher,{as:f.Z,dimmed:this.state.showSidebar,fluid:!0,children:(0,u.jsxs)("div",{id:"seqviz-container",children:[(0,u.jsx)(ue,{selection:this.state.selection,showSelectionMeta:this.state.showSelectionMeta,toggleShowSelectionMeta:this.toggleShowSelectionMeta,toggleSidebar:this.toggleSidebar}),(0,u.jsx)("div",{id:"seqviewer",children:this.state.seq&&(0,u.jsx)(oe,{annotations:this.state.annotations,enzymes:this.state.enzymes,name:this.state.name,search:this.state.search,seq:this.state.seq,showComplement:this.state.showComplement,showIndex:this.state.showIndex,translations:this.state.translations,viewer:this.state.viewer,zoom:{linear:this.state.zoom},selection:this.state.selection,onSelection:function(e){return t.setState({selection:e})}})})]})})]})})},n}(g.Component),me=function(t){var e=t.setType;return(0,u.jsxs)("div",{className:"option",id:"topology",children:[(0,u.jsx)("span",{children:"Topology"}),(0,u.jsx)(p.Z,{defaultValue:"both",fluid:!0,options:fe,selection:!0,onChange:function(t,n){e("".concat(n.value))}})]})},Ne=function(t){var e=t.setZoom;return(0,u.jsxs)("div",{className:"option",id:"zoom",children:[(0,u.jsx)("span",{children:"Zoom"}),(0,u.jsx)("input",{className:"slider",defaultValue:"50",id:"zoom",max:"100",min:"1",type:"range",onChange:function(t){e(parseInt(t.target.value))}})]})},Ce=function(t){var e=t.setQuery;return(0,u.jsx)("div",{className:"option",id:"options-search",children:(0,u.jsx)(m.Z,{icon:"search",placeholder:"Search...",onChange:function(t,n){return e(n.value)}})})},ve=function(t){var e=t.label,n=t.name,a=t.set;return(0,u.jsx)(N.Z,{defaultChecked:!0,label:e,name:n,toggle:!0,onChange:function(t,e){return a(e.checked)}})},Ae=function(t){var e=t.enzymes,n=t.toggleEnzyme;return(0,u.jsxs)("div",{className:"option",id:"enzymes",children:[(0,u.jsx)("span",{children:"Enzymes"}),(0,u.jsxs)(C.Z,{columns:2,id:"enzyme-grid",children:[(0,u.jsxs)(C.Z.Row,{className:"enzyme-grid-row",children:[(0,u.jsx)(C.Z.Column,{className:"enzyme-grid-column",children:(0,u.jsx)(v.Z,{active:e.includes("PstI"),className:"enzyme-button",color:e.includes("PstI")?"blue":null,fluid:!0,onClick:function(){return n("PstI")},children:"PstI"})}),(0,u.jsx)(C.Z.Column,{className:"enzyme-grid-column",children:(0,u.jsx)(v.Z,{active:e.includes("EcoRI"),className:"enzyme-button",color:e.includes("EcoRI")?"blue":null,fluid:!0,onClick:function(){return n("EcoRI")},children:"EcoRI"})})]}),(0,u.jsxs)(C.Z.Row,{className:"enzyme-grid-row",children:[(0,u.jsx)(C.Z.Column,{className:"enzyme-grid-column",children:(0,u.jsx)(v.Z,{active:e.includes("XbaI"),className:"enzyme-button",color:e.includes("XbaI")?"blue":null,fluid:!0,onClick:function(){return n("XbaI")},children:"XbaI"})}),(0,u.jsx)(C.Z.Column,{className:"enzyme-grid-column",children:(0,u.jsx)(v.Z,{active:e.includes("SpeI"),className:"enzyme-button",color:e.includes("SpeI")?"blue":null,fluid:!0,onClick:function(){return n("SpeI")},children:"SpeI"})})]})]})]})},xe=function(t){var e=t.toggleSidebar;return(0,u.jsxs)("div",{className:"sidebar-header",children:[(0,u.jsxs)("div",{id:"header-left",children:[(0,u.jsx)(A.Z,{id:"seqviz-graphic",src:"https://tools.latticeautomation.com/seqviz/seqviz-logo.png"}),(0,u.jsx)("h3",{children:"Settings"})]}),(0,u.jsx)(v.Z,{circular:!0,className:"circular-button",floated:"right",icon:"angle left",id:"sidebar-toggle-close",onClick:e})]})},Ge=function(){return(0,u.jsxs)("div",{className:"sidebar-footer",children:[(0,u.jsx)(x.Z,{clearing:!0}),(0,u.jsx)(A.Z,{id:"lattice-brand",src:"https://tools.latticeautomation.com/seqviz/lattice-brand.png"}),(0,u.jsxs)("p",{children:["Created by"," ",(0,u.jsx)("span",{children:(0,u.jsx)("a",{href:"https://latticeautomation.com/",rel:"noopener noreferrer",target:"_blank",children:"Lattice Automation"})})]}),(0,u.jsxs)("p",{children:[(0,u.jsx)(G.Z,{name:"github"}),(0,u.jsx)("span",{children:(0,u.jsx)("a",{href:"https://github.com/Lattice-Automation/seqviz",rel:"noopener noreferrer",target:"_blank",children:"seqviz"})}),(0,u.jsx)("span",{children:"  |  "}),(0,u.jsx)(G.Z,{name:"medium"}),(0,u.jsx)("span",{children:(0,u.jsx)("a",{href:"https://medium.com/@lattice.core/visualize-your-dna-sequences-with-seqviz-b1d945eb9684",rel:"noopener noreferrer",target:"_blank",children:"Story"})}),(0,u.jsx)("span",{children:"  |  "}),(0,u.jsx)(G.Z,{name:"edit outline"}),(0,u.jsx)("span",{children:(0,u.jsx)("a",{href:"https://docs.google.com/forms/d/1ILD3UwPvdkQlM06En7Pl9VqVpN_-g5iWs-B6gjKh9b0/viewform?edit_requested=true",rel:"noopener noreferrer",target:"_blank",children:"Survey"})})]}),(0,u.jsx)("p",{children:(0,u.jsx)("span",{children:"contact@latticeautomation.com"})})]})}}}]);